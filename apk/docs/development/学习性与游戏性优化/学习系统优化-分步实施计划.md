# å­¦ä¹ ç³»ç»Ÿä¼˜åŒ– - åˆ†æ­¥å®æ–½è®¡åˆ’

> åŸºäºç»¼åˆä¼˜åŒ–æ–¹æ¡ˆï¼Œæ‹†åˆ†ä¸º 6 ä¸ªç‹¬ç«‹ç‰ˆæœ¬ï¼Œæ¯ä¸ªç‰ˆæœ¬ç‹¬ç«‹æäº¤å’Œæ¨é€
>
> åˆ›å»ºæ—¶é—´ï¼š2026-02-15
> å½“å‰ç‰ˆæœ¬ï¼šv1.5.6
> ç›®æ ‡ç‰ˆæœ¬ï¼šv1.6.0 - v1.6.5

---

## ç‰ˆæœ¬è§„åˆ’æ€»è§ˆ

| ç‰ˆæœ¬ | åŠŸèƒ½ | ä¼˜å…ˆçº§ | é¢„è®¡å·¥ä½œé‡ | ä¾èµ– |
|------|------|--------|-----------|------|
| **v1.6.0** | å‰ç½®ï¼šæ‰©å±•ç­”é¢˜æ•°æ®ç»“æ„ | â­â­â­â­â­ | 2å°æ—¶ | æ—  |
| **v1.6.1** | å®ç®±ç»‘å®šå­¦ä¹ ï¼ˆæ ¸å¿ƒï¼‰ | â­â­â­â­â­ | 3å°æ—¶ | v1.6.0 |
| **v1.6.2** | ç¯å¢ƒå•è¯æ ‡ç­¾ | â­â­â­â­â­ | 2å°æ—¶ | æ— ï¼ˆå¯å¹¶è¡Œï¼‰ |
| **v1.6.3** | Biome åˆ‡æ¢å¤ä¹  | â­â­â­â­ | 3å°æ—¶ | v1.6.0 |
| **v1.6.4** | æ‰©å±•ä¸ªäººèµ„æ–™é¢æ¿ | â­â­â­â­ | 2å°æ—¶ | v1.6.0 |
| **v1.6.5** | é›†æˆæµ‹è¯•ä¸ä¼˜åŒ– | â­â­â­ | 2å°æ—¶ | å…¨éƒ¨ |

**æ€»è®¡**ï¼š14 å°æ—¶å¼€å‘æ—¶é—´

---

## v1.6.0 - å‰ç½®ï¼šæ‰©å±•ç­”é¢˜æ•°æ®ç»“æ„

### ğŸ“‹ ç‰ˆæœ¬ä¿¡æ¯
- **ç‰ˆæœ¬å·**ï¼šv1.6.0
- **åŠŸèƒ½æ ‡é¢˜**ï¼šå­¦ä¹ ç³»ç»Ÿ - ç­”é¢˜æ•°æ®ç»“æ„æ‰©å±•
- **ä¾èµ–**ï¼šæ— 
- **é¢„è®¡å·¥ä½œé‡**ï¼š2å°æ—¶

### ğŸ¯ ç›®æ ‡
ä¸ºæ‰€æœ‰åç»­å­¦ä¹ ç³»ç»Ÿä¼˜åŒ–æä¾›æ•°æ®åŸºç¡€ï¼Œè®°å½•æ¯ä¸ªå•è¯çš„ç­”é¢˜æ­£ç¡®ç‡ã€é”™è¯¯æ¬¡æ•°å’Œæœ€åç­”é¢˜æ—¶é—´ã€‚

### ğŸ“ å®æ–½æ­¥éª¤

#### Step 1: æ‰©å±• progress æ•°æ®ç»“æ„

**æ–‡ä»¶**ï¼š`src/modules/09-vocab.js`

åœ¨ `normalizeProgress()` å‡½æ•°ä¸­æ·»åŠ æ–°å­—æ®µï¼š

```javascript
function normalizeProgress(p) {
    p = p || {};
    p.vocab = p.vocab || {};

    // === æ–°å¢ï¼šç­”é¢˜ç»Ÿè®¡æ•°æ® ===
    p.challengeStats = p.challengeStats || {};
    // ç»“æ„ï¼šp.challengeStats["apple"] = { correct: 3, wrong: 1, lastSeen: 1707900000000 }

    return p;
}
```

#### Step 2: è®°å½•ç­”é¢˜ç»“æœ

**æ–‡ä»¶**ï¼š`src/modules/12-challenges.js`

åœ¨ `completeLearningChallenge(correct)` å‡½æ•°ä¸­ï¼Œ`hideLearningChallenge()` ä¹‹åæ’å…¥ï¼š

```javascript
function completeLearningChallenge(correct) {
    hideLearningChallenge();

    // === æ–°å¢ï¼šè®°å½•ç­”é¢˜ç»Ÿè®¡ ===
    const wordEn = currentLearningChallenge?.wordObj?.en;
    if (wordEn) {
        if (!progress.challengeStats) progress.challengeStats = {};
        const stat = progress.challengeStats[wordEn] || {
            correct: 0,
            wrong: 0,
            lastSeen: 0
        };

        if (correct) {
            stat.correct++;
        } else {
            stat.wrong++;
        }
        stat.lastSeen = Date.now();

        progress.challengeStats[wordEn] = stat;
        saveProgress();
    }
    // === è®°å½•ç»“æŸ ===

    // åŸæœ‰çš„ç­”å¯¹ç­”é”™é€»è¾‘...
    if (correct) {
        addScore(20);
        // ...
    }
}
```

#### Step 3: æ·»åŠ ç»Ÿè®¡æŸ¥è¯¢å‡½æ•°

**æ–‡ä»¶**ï¼š`src/modules/09-vocab.js`ï¼ˆæœ«å°¾è¿½åŠ ï¼‰

```javascript
/**
 * è·å–ç­”é¢˜ç»Ÿè®¡æ•°æ®
 * @returns {Object} ç»Ÿè®¡å¯¹è±¡
 */
function getChallengeStats() {
    const stats = progress.challengeStats || {};
    const words = Object.keys(stats);

    let totalCorrect = 0, totalWrong = 0;
    words.forEach(w => {
        totalCorrect += stats[w].correct || 0;
        totalWrong += stats[w].wrong || 0;
    });

    const total = totalCorrect + totalWrong;

    return {
        wordCount: words.length,           // ç­”é¢˜æ¶‰åŠå•è¯æ•°
        totalCorrect: totalCorrect,        // æ€»ç­”å¯¹æ¬¡æ•°
        totalWrong: totalWrong,            // æ€»ç­”é”™æ¬¡æ•°
        accuracy: total > 0 ? Math.round(totalCorrect / total * 100) : 0,  // æ­£ç¡®ç‡
        details: stats                     // è¯¦ç»†æ•°æ®
    };
}
```

### âœ… éªŒè¯æ¸…å•

- [ ] æ‰“å¼€æ¸¸æˆï¼Œæ”¶é›†å•è¯è§¦å‘ Challenge
- [ ] ç­”é¢˜ååœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œï¼š
  ```javascript
  JSON.parse(localStorage.getItem("mmwg:progress")).challengeStats
  ```
- [ ] ç¡®è®¤æœ‰å¯¹åº”å•è¯çš„ `correct`/`wrong`/`lastSeen` æ•°æ®
- [ ] å¤šæ¬¡ç­”é¢˜ï¼Œç¡®è®¤æ•°æ®ç´¯åŠ æ­£ç¡®

### ğŸ“¦ æäº¤ä¿¡æ¯

```bash
git add .
git commit -m "feat: å­¦ä¹ ç³»ç»Ÿ - ç­”é¢˜æ•°æ®ç»“æ„æ‰©å±• (v1.6.0)

- æ–°å¢ challengeStats æ•°æ®ç»“æ„è®°å½•ç­”é¢˜ç»Ÿè®¡
- åœ¨ completeLearningChallenge ä¸­è®°å½•ç­”å¯¹/ç­”é”™æ¬¡æ•°
- æ–°å¢ getChallengeStats() ç»Ÿè®¡æŸ¥è¯¢å‡½æ•°
- ä¸ºåç»­å­¦ä¹ ç³»ç»Ÿä¼˜åŒ–æä¾›æ•°æ®åŸºç¡€"

git push origin main
```

### ğŸ“„ ç‰ˆæœ¬è®°å½•æ›´æ–°

æ›´æ–° `apk/docs/version/CHANGELOG.md`ï¼š

```markdown
## v1.6.0 (2026-02-15)

### âœ¨ æ–°åŠŸèƒ½
- **å­¦ä¹ ç³»ç»Ÿæ•°æ®åŸºç¡€** - æ‰©å±•ç­”é¢˜æ•°æ®ç»“æ„
  - æ–°å¢ challengeStats è®°å½•æ¯ä¸ªå•è¯çš„ç­”é¢˜ç»Ÿè®¡
  - è®°å½•ç­”å¯¹æ¬¡æ•°ã€ç­”é”™æ¬¡æ•°ã€æœ€åç­”é¢˜æ—¶é—´
  - æ–°å¢ getChallengeStats() ç»Ÿè®¡æŸ¥è¯¢å‡½æ•°
  - ä¸ºåç»­å­¦ä¹ ç³»ç»Ÿä¼˜åŒ–æä¾›æ•°æ®æ”¯æŒ

### ğŸ”§ æŠ€æœ¯æ”¹è¿›
- æ‰©å±• normalizeProgress() æ”¯æŒ challengeStats
- completeLearningChallenge è‡ªåŠ¨è®°å½•ç­”é¢˜ç»“æœ
- æ•°æ®æŒä¹…åŒ–åˆ° LocalStorage
```

---

## v1.6.1 - å®ç®±ç»‘å®šå­¦ä¹ ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

### ğŸ“‹ ç‰ˆæœ¬ä¿¡æ¯
- **ç‰ˆæœ¬å·**ï¼šv1.6.1
- **åŠŸèƒ½æ ‡é¢˜**ï¼šå­¦ä¹ ç³»ç»Ÿ - å®ç®±ç»‘å®šå­¦ä¹ 
- **ä¾èµ–**ï¼šv1.6.0
- **é¢„è®¡å·¥ä½œé‡**ï¼š3å°æ—¶

### ğŸ¯ ç›®æ ‡
å°†éšæœºå¼¹å‡ºçš„ Challenge æ”¹ä¸ºåœ¨å®ç®±äº¤äº’æ—¶è§¦å‘ï¼Œè§£å†³"æ‰“æ–­å¿ƒæµ"é—®é¢˜ï¼Œè®©å­¦ä¹ æˆä¸ºè·å¾—å¥–åŠ±çš„è‡ªç„¶ç¯èŠ‚ã€‚

### ğŸ“ å®æ–½æ­¥éª¤

#### Step 1: ä¿®æ”¹å®ç®±äº¤äº’é€»è¾‘

**æ–‡ä»¶**ï¼š`src/modules/13-game-loop.js`ï¼ˆç¬¬ 733-753 è¡Œï¼‰

æ‰¾åˆ° `handleInteraction()` å‡½æ•°ä¸­çš„å®ç®±å¼€å¯ä»£ç ï¼Œä¿®æ”¹ä¸ºï¼š

```javascript
// === åŸä»£ç ï¼ˆç¬¬ 749-750 è¡Œï¼‰===
} else {
    nearestChest.open();
}

// === æ”¹ä¸º ===
} else {
    // å®ç®±å­¦ä¹ æ¨¡å¼ï¼šå¼€ç®±å‰å…ˆç­”é¢˜
    if (settings.learningMode &&
        settings.chestLearningEnabled &&
        !currentLearningChallenge) {

        // ä»å½“å‰è¯åº“éšæœºå–ä¸€ä¸ªå•è¯
        const wordObj = pickNextWord();

        if (wordObj) {
            // è§¦å‘ Challengeï¼Œorigin ä¼ å…¥ chest å®ä¾‹
            startLearningChallenge(wordObj, null, nearestChest);
        } else {
            // æ— å¯ç”¨å•è¯æ—¶ç›´æ¥å¼€ç®±
            nearestChest.open();
        }
    } else {
        // å­¦ä¹ æ¨¡å¼å…³é—­æ—¶ç›´æ¥å¼€ç®±
        nearestChest.open();
    }
}
```

#### Step 2: æ·»åŠ  pickNextWord() å‡½æ•°ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰

**æ–‡ä»¶**ï¼š`src/modules/09-vocab.js` æˆ– `src/modules/12-challenges.js`

```javascript
/**
 * ä»å½“å‰è¯åº“éšæœºå–ä¸€ä¸ªå•è¯
 * @returns {Object|null} å•è¯å¯¹è±¡æˆ–null
 */
function pickNextWord() {
    if (!wordDatabase || !wordDatabase.length) return null;

    // ä»å·²åŠ è½½çš„ wordDatabase ä¸­éšæœºå–ä¸€ä¸ª
    const idx = Math.floor(Math.random() * wordDatabase.length);
    return wordDatabase[idx];
}
```

#### Step 3: å¤„ç†å®ç®±ç­”é¢˜ç»“æœ

**æ–‡ä»¶**ï¼š`src/modules/12-challenges.js`ï¼ˆç¬¬ 284-309 è¡Œï¼‰

åœ¨ `completeLearningChallenge(correct)` ä¸­ï¼Œç°æœ‰çš„ `WordGate` åˆ†æ”¯ä¹‹åï¼Œæ–°å¢ `Chest` åˆ†æ”¯ï¼š

```javascript
function completeLearningChallenge(correct) {
    hideLearningChallenge();

    // è®°å½•ç­”é¢˜ç»Ÿè®¡ï¼ˆv1.6.0 å·²å®Œæˆï¼‰
    // ...

    if (correct) {
        addScore(20);
        inventory.diamond = (inventory.diamond || 0) + 1;
        updateInventoryUI();
        showToast(`âœ… ç­”å¯¹äº†ï¼+20åˆ† +1ğŸ’`, 1500);

        // === ç°æœ‰ä»£ç ï¼šWordGate åˆ†æ”¯ ===
        if (challengeOrigin && challengeOrigin instanceof WordGate) {
            challengeOrigin.locked = false;
            challengeOrigin.remove = true;
            showToast("ğŸ’  è¯è¯­é—¸é—¨å·²è§£é”ï¼");
        }

        // === æ–°å¢ï¼šChest åˆ†æ”¯ ===
        if (challengeOrigin && challengeOrigin instanceof Chest) {
            // ç­”å¯¹ï¼šæ ‡è®°æå‡ç¨€æœ‰åº¦
            challengeOrigin._rarityBoost = true;
            challengeOrigin.open();
            showToast("ğŸ ç­”å¯¹äº†ï¼å®ç®±å¥–åŠ±å‡çº§ï¼", 2000);
        }

    } else {
        addScore(-8);
        showToast(`âŒ ç­”é”™äº†... -8åˆ†`, 1500);

        // === ç°æœ‰ä»£ç ï¼šWordGate åˆ†æ”¯ ===
        if (challengeOrigin && challengeOrigin instanceof WordGate) {
            challengeOrigin.cooldown = 180;
        }

        // === æ–°å¢ï¼šChest åˆ†æ”¯ ===
        if (challengeOrigin && challengeOrigin instanceof Chest) {
            // ç­”é”™ä¹Ÿå¼€ç®±ï¼Œåªæ˜¯ä¸æå‡ç¨€æœ‰åº¦
            challengeOrigin.open();
            showToast("ğŸ’¼ ç­”é”™äº†ï¼Œä½†è¿˜æ˜¯å¯ä»¥å¼€ç®±", 2000);
        }
    }

    // æ¢å¤æ¸¸æˆçŠ¶æ€
    paused = challengePausedBefore;
    currentLearningChallenge = null;
    challengeOrigin = null;
}
```

#### Step 4: å®ç®±ç¨€æœ‰åº¦æå‡é€»è¾‘

**æ–‡ä»¶**ï¼š`src/modules/15-entities-base.js`ï¼ˆç¬¬ 75-128 è¡Œï¼‰

åœ¨ `Chest.open()` æ–¹æ³•ä¸­ï¼Œ`pickChestRarity()` ä¹‹ååŠ å…¥ï¼š

```javascript
open() {
    if (this.opened) return;
    this.opened = true;

    const diff = getCurrentDifficulty();
    const lootCfg = getPlayerLootConfig();

    // === åŸä»£ç  ===
    let rarity = pickChestRarity(lootCfg.chestRarities, diff.chestRareBoost);

    // === æ–°å¢ï¼šç­”å¯¹åæå‡ç¨€æœ‰åº¦ ===
    if (this._rarityBoost) {
        const levels = ['common', 'rare', 'epic', 'legendary'];
        const idx = levels.indexOf(rarity);

        if (idx >= 0 && idx < levels.length - 1) {
            rarity = levels[idx + 1];  // æå‡ä¸€çº§
            console.log(`å®ç®±ç¨€æœ‰åº¦æå‡ï¼š${levels[idx]} â†’ ${rarity}`);
        }

        this._rarityBoost = false;  // æ¸…é™¤æ ‡è®°
    }

    // åŸæœ‰çš„æ‰è½é€»è¾‘...
    const dropList = rollChestRewards(rarity, lootCfg, diff);
    // ...
}
```

#### Step 5: é™ä½éšæœº Challenge è§¦å‘é¢‘ç‡

**æ–‡ä»¶**ï¼š`src/modules/12-challenges.js`ï¼ˆç¬¬ 188 è¡Œï¼‰

```javascript
function maybeTriggerLearningChallenge(wordObj) {
    if (!wordObj || !wordObj.en) return;

    registerCollectedWord(wordObj);

    // === æ–°å¢ï¼šå¦‚æœå®ç®±å­¦ä¹ å·²å¼€å¯ï¼Œä¸å†éšæœºå¼¹å‡º Challenge ===
    // é¿å…åŒé‡æ‰“æ–­å¿ƒæµï¼Œä¿ç•™ WordGate è§¦å‘ä¸å—å½±å“
    if (settings.chestLearningEnabled) {
        return;
    }

    if (!shouldTriggerLearningChallenge(wordObj)) return;
    startLearningChallenge(wordObj);
}
```

#### Step 6: æ·»åŠ é…ç½®é¡¹

**æ–‡ä»¶**ï¼š`src/defaults.js` æˆ– `src/modules/01-config.js`

```javascript
const defaultSettings = {
    // ç°æœ‰é…ç½®...

    // å®ç®±å­¦ä¹ 
    chestLearningEnabled: true,    // å®ç®±æ˜¯å¦å…³è”å­¦ä¹ ç­”é¢˜
};
```

åœ¨ `normalizeSettings()` ä¸­åŠ å…¥ï¼š

```javascript
function normalizeSettings(s) {
    const merged = { ...defaultSettings, ...s };

    // ç°æœ‰çš„ç±»å‹æ£€æŸ¥...

    if (typeof merged.chestLearningEnabled !== "boolean") {
        merged.chestLearningEnabled = defaultSettings.chestLearningEnabled ?? true;
    }

    return merged;
}
```

#### Step 7: è®¾ç½®é¢æ¿å¢åŠ å¼€å…³ï¼ˆå¯é€‰ï¼‰

**æ–‡ä»¶**ï¼š`Game.html` è®¾ç½®é¢æ¿åŒºåŸŸ

```html
<label>
    <input type="checkbox" id="opt-chest-learning">
    å®ç®±å­¦ä¹ æ¨¡å¼ï¼ˆå¼€ç®±å‰ç­”é¢˜ï¼‰
</label>
```

**æ–‡ä»¶**ï¼š`src/modules/16-events.js` è®¾ç½®è¯»å†™å¤„

```javascript
// è¯»å–è®¾ç½®
const optChestLearning = document.getElementById("opt-chest-learning");
if (optChestLearning) {
    optChestLearning.checked = !!settings.chestLearningEnabled;
}

// ä¿å­˜è®¾ç½®
if (optChestLearning) {
    settings.chestLearningEnabled = !!optChestLearning.checked;
}
```

### âœ… éªŒè¯æ¸…å•

- [ ] å¼€å¯ learningModeï¼Œé è¿‘å®ç®±æŒ‰äº¤äº’é”®
- [ ] åº”å¼¹å‡º Challenge ç­”é¢˜ç•Œé¢ï¼ˆè€Œéç›´æ¥å¼€ç®±ï¼‰
- [ ] ç­”å¯¹ â†’ å¼€ç®±ï¼ŒToast æ˜¾ç¤ºæ›´é«˜ç¨€æœ‰åº¦ï¼Œæ‰è½æ›´å¥½
- [ ] ç­”é”™ â†’ å¼€ç®±ï¼Œç¨€æœ‰åº¦ä¸å˜ï¼Œæ‰è½æ­£å¸¸
- [ ] æ”¶é›†å•è¯æ—¶ä¸å†éšæœºå¼¹å‡º Challenge
- [ ] è®¾ç½®ä¸­å…³é—­ chestLearningEnabled â†’ å®ç®±ç›´æ¥å¼€å¯

### ğŸ“¦ æäº¤ä¿¡æ¯

```bash
git add .
git commit -m "feat: å­¦ä¹ ç³»ç»Ÿ - å®ç®±ç»‘å®šå­¦ä¹  (v1.6.1)

- å®ç®±å¼€å¯å‰è§¦å‘ç­”é¢˜ï¼Œæ¶ˆé™¤éšæœºå¼¹çª—æ‰“æ–­å¿ƒæµ
- ç­”å¯¹æå‡å®ç®±ç¨€æœ‰åº¦ï¼Œå¼ºåŒ–å­¦ä¹ åŠ¨æœº
- ç­”é”™ä¹Ÿèƒ½å¼€ç®±ï¼Œé™ä½å­¦ä¹ å‹åŠ›
- å…³é—­éšæœº Challenge è§¦å‘ï¼Œä¿ç•™ WordGate æœºåˆ¶
- æ–°å¢ chestLearningEnabled é…ç½®é¡¹
- è®¾ç½®é¢æ¿å¢åŠ å®ç®±å­¦ä¹ å¼€å…³"

git push origin main
```

### ğŸ“„ ç‰ˆæœ¬è®°å½•æ›´æ–°

æ›´æ–° `apk/docs/version/CHANGELOG.md`ï¼š

```markdown
## v1.6.1 (2026-02-15)

### âœ¨ æ–°åŠŸèƒ½
- **å®ç®±ç»‘å®šå­¦ä¹ ** - å°†å­¦ä¹ èå…¥æ¸¸æˆè‡ªç„¶èŠ‚å¥
  - å®ç®±å¼€å¯å‰è§¦å‘ç­”é¢˜ï¼Œæ¶ˆé™¤éšæœºå¼¹çª—
  - ç­”å¯¹æå‡å®ç®±ç¨€æœ‰åº¦ï¼ˆcommonâ†’rareâ†’epicâ†’legendaryï¼‰
  - ç­”é”™ä¹Ÿèƒ½å¼€ç®±ï¼Œé™ä½å­¦ä¹ å‹åŠ›
  - å…³é—­éšæœº Challenge è§¦å‘ï¼Œé¿å…åŒé‡æ‰“æ–­
  - æ–°å¢ chestLearningEnabled é…ç½®é¡¹

### ğŸ”§ æŠ€æœ¯æ”¹è¿›
- ä¿®æ”¹ handleInteraction() æ‹¦æˆªå®ç®±å¼€å¯
- completeLearningChallenge æ–°å¢ Chest åˆ†æ”¯å¤„ç†
- Chest.open() æ”¯æŒç¨€æœ‰åº¦æå‡é€»è¾‘
- æ–°å¢ pickNextWord() éšæœºå–è¯å‡½æ•°

### ğŸ¨ UI/UX æ”¹è¿›
- è®¾ç½®é¢æ¿å¢åŠ "å®ç®±å­¦ä¹ æ¨¡å¼"å¼€å…³
- ç­”å¯¹/ç­”é”™ Toast æç¤ºæ›´æ¸…æ™°
```

---

## v1.6.2 - ç¯å¢ƒå•è¯æ ‡ç­¾

### ğŸ“‹ ç‰ˆæœ¬ä¿¡æ¯
- **ç‰ˆæœ¬å·**ï¼šv1.6.2
- **åŠŸèƒ½æ ‡é¢˜**ï¼šå­¦ä¹ ç³»ç»Ÿ - ç¯å¢ƒå•è¯æ ‡ç­¾
- **ä¾èµ–**ï¼šæ— ï¼ˆå¯ä¸ v1.6.1 å¹¶è¡Œå¼€å‘ï¼‰
- **é¢„è®¡å·¥ä½œé‡**ï¼š2å°æ—¶

### ğŸ¯ ç›®æ ‡
åœ¨æ•Œäºº/ç‰©å“ä¸Šæ–¹æ˜¾ç¤ºè‹±æ–‡åï¼Œå®ç°é›¶å‹åŠ›çš„è¢«åŠ¨æµ¸å…¥å¼å­¦ä¹ ã€‚

### ğŸ“ å®æ–½æ­¥éª¤

#### Step 1: å®šä¹‰å®ä½“è‹±æ–‡åæ˜ å°„è¡¨

**æ–‡ä»¶**ï¼š`src/modules/01-config.js` æˆ–æ–°å»º `src/modules/entity-names.js`

```javascript
/**
 * æ¸¸æˆå®ä½“è‹±æ–‡åæ˜ å°„è¡¨
 */
const ENTITY_NAMES = {
    // æ•Œäºº
    zombie:          { en: "ZOMBIE",          zh: "åƒµå°¸" },
    spider:          { en: "SPIDER",          zh: "èœ˜è››" },
    creeper:         { en: "CREEPER",         zh: "çˆ¬è¡Œè€…" },
    skeleton:        { en: "SKELETON",        zh: "éª·é«…" },
    enderman:        { en: "ENDERMAN",        zh: "æœ«å½±äºº" },
    slime:           { en: "SLIME",           zh: "å²è±å§†" },

    // BOSS
    ender_dragon:    { en: "ENDER DRAGON",    zh: "æœ«å½±é¾™" },
    wither:          { en: "WITHER",          zh: "å‡‹é›¶" },
    ghast:           { en: "GHAST",           zh: "æ¶é­‚" },
    blaze:           { en: "BLAZE",           zh: "çƒˆç„°äºº" },
    wither_skeleton: { en: "WITHER SKELETON", zh: "å‡‹é›¶éª·é«…" },

    // å‹æ–¹
    iron_golem:      { en: "IRON GOLEM",      zh: "é“å‚€å„¡" },
    snow_golem:      { en: "SNOW GOLEM",      zh: "é›ªå‚€å„¡" },

    // ç‰©å“
    chest:           { en: "CHEST",           zh: "å®ç®±" },
    diamond:         { en: "DIAMOND",         zh: "é’»çŸ³" },
    iron:            { en: "IRON",            zh: "é“" },
    pumpkin:         { en: "PUMPKIN",         zh: "å—ç“œ" },
    stick:           { en: "STICK",           zh: "æœ¨æ£" },
    beef:            { en: "BEEF",            zh: "ç‰›è‚‰" },
    mutton:          { en: "MUTTON",          zh: "ç¾Šè‚‰" },

    // ç¯å¢ƒï¼ˆæ–°å¢ï¼‰
    ocean:           { en: "OCEAN",           zh: "æµ·æ´‹" },
    nether:          { en: "NETHER",          zh: "ä¸‹ç•Œ" },
    lava:            { en: "LAVA",            zh: "å²©æµ†" },
    seaweed:         { en: "SEAWEED",         zh: "æµ·è‰" },
    mushroom:        { en: "MUSHROOM",        zh: "è˜‘è‡" }
};
```

å¦‚æœæ–°å»ºäº†ç‹¬ç«‹æ–‡ä»¶ï¼Œéœ€è¦åœ¨ `Game.html` ä¸­å¼•å…¥ï¼š

```html
<script src="src/modules/entity-names.js"></script>
```

#### Step 2: æ–°å¢ drawEntityLabel() é€šç”¨å‡½æ•°

**æ–‡ä»¶**ï¼š`src/modules/14-renderer-entities.js`ï¼ˆæ–‡ä»¶é¡¶éƒ¨è¿½åŠ ï¼‰

```javascript
/**
 * ç»˜åˆ¶å®ä½“ä¸Šæ–¹çš„è‹±æ–‡åæ ‡ç­¾
 * @param {number} x - å®ä½“Xåæ ‡
 * @param {number} y - å®ä½“Yåæ ‡
 * @param {number} width - å®ä½“å®½åº¦
 * @param {string} type - å®ä½“ç±»å‹ï¼ˆå¦‚ "zombie", "chest"ï¼‰
 */
function drawEntityLabel(x, y, width, type) {
    // æ£€æŸ¥é…ç½®å¼€å…³
    if (!settings.showEnvironmentWords) return;

    // æŸ¥æ‰¾æ˜ å°„è¡¨
    const entry = ENTITY_NAMES[type];
    if (!entry) return;

    const centerX = x + width / 2;
    const labelY = y - 14;  // åœ¨å®ä½“ä¸Šæ–¹14åƒç´ 

    ctx.save();
    ctx.font = "bold 11px Arial";
    ctx.textAlign = "center";

    // é»‘è‰²æè¾¹ï¼ˆç¡®ä¿åœ¨ä»»ä½•èƒŒæ™¯ä¸‹å¯è§ï¼‰
    ctx.strokeStyle = "rgba(0,0,0,0.7)";
    ctx.lineWidth = 3;
    ctx.strokeText(entry.en, centerX, labelY);

    // ç™½è‰²æ–‡å­—
    ctx.fillStyle = "rgba(255,255,255,0.9)";
    ctx.fillText(entry.en, centerX, labelY);

    ctx.restore();
}
```

#### Step 3: åœ¨ drawEnemy() æœ«å°¾è°ƒç”¨

**æ–‡ä»¶**ï¼š`src/modules/14-renderer-entities.js`ï¼ˆç¬¬ 69-102 è¡Œï¼‰

åœ¨ `drawEnemy()` å‡½æ•°æœ«å°¾ï¼Œè¡€æ¡ç»˜åˆ¶ä¹‹åè¿½åŠ ï¼š

```javascript
function drawEnemy(enemy) {
    // åŸæœ‰çš„æ•Œäººç»˜åˆ¶ä»£ç ...

    // ç»˜åˆ¶è¡€æ¡ï¼ˆå¦‚æœè¡€é‡ä¸æ»¡ï¼‰
    if (enemy.hp < enemy.maxHp) {
        drawHealthBar(enemy.x, enemy.y - 8, enemy.width, enemy.hp, enemy.maxHp);
    }

    // === æ–°å¢ï¼šç»˜åˆ¶è‹±æ–‡åæ ‡ç­¾ ===
    // å¦‚æœæœ‰è¡€æ¡ï¼Œæ ‡ç­¾ä½ç½®ä¸Šç§»é¿å…é‡å 
    const labelOffset = enemy.hp < enemy.maxHp ? 16 : 0;
    drawEntityLabel(enemy.x, enemy.y - labelOffset, enemy.width, enemy.type);
}
```

#### Step 4: åœ¨ drawGolem() æœ«å°¾è°ƒç”¨

**æ–‡ä»¶**ï¼š`src/modules/14-renderer-entities.js`ï¼ˆç¬¬ 255-277 è¡Œï¼‰

åœ¨ `drawGolem()` æœ«å°¾è¿½åŠ ï¼š

```javascript
function drawGolem(golem) {
    // åŸæœ‰çš„å‚€å„¡ç»˜åˆ¶ä»£ç ...

    // ç»˜åˆ¶è¡€æ¡
    drawHealthBar(x, y - 8, golem.width, golem.hp, golem.maxHp);

    // === æ–°å¢ï¼šç»˜åˆ¶è‹±æ–‡åæ ‡ç­¾ ===
    const golemType = golem.type === "iron" ? "iron_golem" : "snow_golem";
    drawEntityLabel(x, y - 16, golem.width, golemType);
}
```

#### Step 5: åœ¨å®ç®±æ¸²æŸ“å¤„è°ƒç”¨

**æ–‡ä»¶**ï¼š`src/modules/14-renderer-main.js`ï¼ˆç¬¬ 32 è¡Œé™„è¿‘ï¼‰

```javascript
// === åŸä»£ç  ===
chests.forEach(c => drawChest(c.x, c.y, c.opened));

// === æ”¹ä¸º ===
chests.forEach(c => {
    drawChest(c.x, c.y, c.opened);

    // æœªå¼€å¯çš„å®ç®±æ˜¾ç¤ºè‹±æ–‡å
    if (!c.opened) {
        const width = c.width || blockSize * 0.8;
        drawEntityLabel(c.x, c.y, width, "chest");
    }
});
```

#### Step 6: æ–°å¢é…ç½®é¡¹

**æ–‡ä»¶**ï¼š`src/defaults.js`

```javascript
const defaultSettings = {
    // ç°æœ‰é…ç½®...

    // ç¯å¢ƒå•è¯æ ‡ç­¾
    showEnvironmentWords: true,      // æ˜¯å¦æ˜¾ç¤ºç¯å¢ƒå•è¯æ ‡ç­¾
};
```

åœ¨ `normalizeSettings()` ä¸­åŠ å…¥ï¼š

```javascript
if (typeof merged.showEnvironmentWords !== "boolean") {
    merged.showEnvironmentWords = defaultSettings.showEnvironmentWords ?? true;
}
```

#### Step 7: è®¾ç½®é¢æ¿å¢åŠ å¼€å…³

**æ–‡ä»¶**ï¼š`Game.html` è®¾ç½®é¢æ¿åŒºåŸŸ

```html
<label>
    <input type="checkbox" id="opt-env-words">
    æ˜¾ç¤ºç¯å¢ƒå•è¯æ ‡ç­¾
</label>
```

**æ–‡ä»¶**ï¼š`src/modules/16-events.js` è®¾ç½®è¯»å†™å¤„

```javascript
// è¯»å–
const optEnvWords = document.getElementById("opt-env-words");
if (optEnvWords) {
    optEnvWords.checked = !!settings.showEnvironmentWords;
}

// ä¿å­˜
if (optEnvWords) {
    settings.showEnvironmentWords = !!optEnvWords.checked;
}
```

### âœ… éªŒè¯æ¸…å•

- [ ] å¼€å§‹æ¸¸æˆï¼Œé‡åˆ°åƒµå°¸ â†’ å¤´ä¸Šæ˜¾ç¤º "ZOMBIE"
- [ ] é‡åˆ°èœ˜è›› â†’ æ˜¾ç¤º "SPIDER"
- [ ] å®ç®±æœªå¼€å¯æ—¶æ˜¾ç¤º "CHEST"ï¼Œå¼€å¯åä¸æ˜¾ç¤º
- [ ] è®¾ç½®ä¸­å…³é—­å¼€å…³ â†’ æ ‡ç­¾æ¶ˆå¤±
- [ ] æ ‡ç­¾ä¸é®æŒ¡è¡€æ¡ï¼Œä½ç½®åˆç†
- [ ] æ ‡ç­¾åœ¨ä»»ä½•èƒŒæ™¯ä¸‹éƒ½æ¸…æ™°å¯è§

### ğŸ“¦ æäº¤ä¿¡æ¯

```bash
git add .
git commit -m "feat: å­¦ä¹ ç³»ç»Ÿ - ç¯å¢ƒå•è¯æ ‡ç­¾ (v1.6.2)

- æ•Œäºº/ç‰©å“ä¸Šæ–¹æ˜¾ç¤ºè‹±æ–‡åæ ‡ç­¾
- å®ç°é›¶å‹åŠ›çš„è¢«åŠ¨æµ¸å…¥å¼å­¦ä¹ 
- æ–°å¢ ENTITY_NAMES æ˜ å°„è¡¨ï¼ˆ30+å®ä½“ï¼‰
- æ–°å¢ drawEntityLabel() é€šç”¨æ¸²æŸ“å‡½æ•°
- æ”¯æŒæ•Œäººã€å‚€å„¡ã€å®ç®±ç­‰å®ä½“
- æ–°å¢ showEnvironmentWords é…ç½®é¡¹
- è®¾ç½®é¢æ¿å¢åŠ ç¯å¢ƒå•è¯å¼€å…³"

git push origin main
```

### ğŸ“„ ç‰ˆæœ¬è®°å½•æ›´æ–°

æ›´æ–° `apk/docs/version/CHANGELOG.md`ï¼š

```markdown
## v1.6.2 (2026-02-15)

### âœ¨ æ–°åŠŸèƒ½
- **ç¯å¢ƒå•è¯æ ‡ç­¾** - è¢«åŠ¨æµ¸å…¥å¼å­¦ä¹ 
  - æ•Œäººä¸Šæ–¹æ˜¾ç¤ºè‹±æ–‡åï¼ˆZOMBIEã€SPIDERç­‰ï¼‰
  - å®ç®±æœªå¼€å¯æ—¶æ˜¾ç¤º CHEST
  - å‚€å„¡æ˜¾ç¤º IRON GOLEM / SNOW GOLEM
  - æ”¯æŒ 30+ æ¸¸æˆå®ä½“è‹±æ–‡å
  - æ–°å¢ showEnvironmentWords é…ç½®é¡¹

### ğŸ”§ æŠ€æœ¯æ”¹è¿›
- æ–°å¢ ENTITY_NAMES æ˜ å°„è¡¨
- æ–°å¢ drawEntityLabel() é€šç”¨æ¸²æŸ“å‡½æ•°
- ä¿®æ”¹ drawEnemy()ã€drawGolem()ã€å®ç®±æ¸²æŸ“é€»è¾‘
- æ ‡ç­¾è‡ªåŠ¨é¿å¼€è¡€æ¡ï¼Œé˜²æ­¢é‡å 

### ğŸ¨ UI/UX æ”¹è¿›
- è®¾ç½®é¢æ¿å¢åŠ "æ˜¾ç¤ºç¯å¢ƒå•è¯æ ‡ç­¾"å¼€å…³
- æ ‡ç­¾é»‘è‰²æè¾¹ + ç™½è‰²æ–‡å­—ï¼Œä»»ä½•èƒŒæ™¯ä¸‹å¯è§
- æ ‡ç­¾å­—ä½“å°å·§ï¼Œä¸å¹²æ‰°æ¸¸æˆç”»é¢
```

---

## v1.6.3 - Biome åˆ‡æ¢å¤ä¹ 

### ğŸ“‹ ç‰ˆæœ¬ä¿¡æ¯
- **ç‰ˆæœ¬å·**ï¼šv1.6.3
- **åŠŸèƒ½æ ‡é¢˜**ï¼šå­¦ä¹ ç³»ç»Ÿ - Biome åˆ‡æ¢å¤ä¹ 
- **ä¾èµ–**ï¼šv1.6.0
- **é¢„è®¡å·¥ä½œé‡**ï¼š3å°æ—¶

### ğŸ¯ ç›®æ ‡
åˆ©ç”¨ biome åˆ‡æ¢è¿™ä¸ªè‡ªç„¶åœé¡¿ç‚¹ï¼Œè§¦å‘å¿«é€Ÿå¤ä¹ ï¼Œå·©å›ºè®°å¿†ã€‚

### ğŸ“ å®æ–½æ­¥éª¤

#### Step 1: æ–°å¢ getWordsForReview() å‡½æ•°

**æ–‡ä»¶**ï¼š`src/modules/09-vocab.js`ï¼ˆæœ«å°¾è¿½åŠ ï¼‰

```javascript
/**
 * è·å–éœ€è¦å¤ä¹ çš„å•è¯åˆ—è¡¨ï¼ˆåŸºäºé—´éš”é‡å¤ç®—æ³•ï¼‰
 * @param {number} count - éœ€è¦å¤ä¹ çš„å•è¯æ•°é‡ï¼ˆé»˜è®¤3ä¸ªï¼‰
 * @returns {Array} å•è¯å¯¹è±¡æ•°ç»„
 */
function getWordsForReview(count) {
    count = count || 3;
    const stats = progress.challengeStats || {};
    const now = Date.now();
    const candidates = [];

    // ä»ç­”é¢˜è®°å½•ä¸­æ‰¾å‡º"è¯¥å¤ä¹ "çš„å•è¯
    for (const word in stats) {
        const s = stats[word];
        const total = (s.correct || 0) + (s.wrong || 0);
        if (total === 0) continue;

        // é—´éš”ç­–ç•¥ï¼šç­”å¯¹è¶Šå¤šï¼Œå¤ä¹ é—´éš”è¶Šé•¿
        const level = Math.min(s.correct || 0, 5);
        const intervals = [
            0,           // level 0: ç«‹å³
            60000,       // level 1: 1åˆ†é’Ÿ
            300000,      // level 2: 5åˆ†é’Ÿ
            900000,      // level 3: 15åˆ†é’Ÿ
            3600000,     // level 4: 1å°æ—¶
            86400000     // level 5: 1å¤©
        ];

        const nextReview = (s.lastSeen || 0) + (intervals[level] || 0);

        if (now >= nextReview) {
            // è®¡ç®—ä¼˜å…ˆçº§ï¼šé”™è¯¯ç‡é«˜çš„ + ä¹…æœªå¤ä¹ çš„ä¼˜å…ˆ
            const errorRate = (s.wrong || 0) / total;
            const timeSince = now - (s.lastSeen || 0);

            candidates.push({
                word: word,
                priority: errorRate * 100 + timeSince / 60000  // å½’ä¸€åŒ–ä¼˜å…ˆçº§
            });
        }
    }

    // æŒ‰ä¼˜å…ˆçº§æ’åºï¼Œå–å‰Nä¸ª
    candidates.sort((a, b) => b.priority - a.priority);

    // è¿”å›å®Œæ•´çš„ wordObj
    return candidates.slice(0, count).map(c => {
        const found = wordDatabase.find(w => w.en === c.word);
        return found || { en: c.word, zh: stats[c.word]?.zh || "" };
    });
}
```

#### Step 2: åœ¨ updateCurrentBiome() ä¸­è§¦å‘å¤ä¹ 

**æ–‡ä»¶**ï¼š`src/modules/06-biome.js`ï¼ˆç¬¬ 54-77 è¡Œï¼‰

åœ¨ `updateCurrentBiome()` ä¸­ï¼Œbiome åˆ‡æ¢æˆåŠŸåï¼ˆ`showToast` ä¹‹åï¼‰ï¼Œæ’å…¥å¤ä¹ è§¦å‘ï¼š

```javascript
function updateCurrentBiome() {
    const nextBiome = determineNextBiome();

    if (!nextBiome || nextBiome.id === currentBiome.id) return;

    currentBiome = nextBiome;
    clearLevel();
    buildBiomeLevel();

    // === åŸä»£ç  ===
    showToast(`ğŸŒ è¿›å…¥${nextBiome.name}ç¾¤ç³»`);

    // === æ–°å¢ï¼šå»¶è¿Ÿè§¦å‘å¤ä¹  ===
    if (settings.reviewOnBiomeSwitch) {
        // å»¶è¿Ÿ1.5ç§’ï¼Œè®© biome åˆ‡æ¢åŠ¨ç”»å®Œæˆ
        setTimeout(() => maybeShowReview(), 1500);
    }
}
```

#### Step 3: æ–°å¢å¤ä¹ æµç¨‹æ§åˆ¶å‡½æ•°

**æ–‡ä»¶**ï¼š`src/modules/12-challenges.js`ï¼ˆæœ«å°¾è¿½åŠ ï¼‰

```javascript
// å¤ä¹ ç³»ç»Ÿå…¨å±€çŠ¶æ€
let reviewActive = false;
let reviewWords = [];
let reviewIndex = 0;
let reviewResults = [];

/**
 * æ£€æŸ¥å¹¶å¯åŠ¨å¤ä¹ æµç¨‹
 */
function maybeShowReview() {
    // å®‰å…¨æ£€æŸ¥ï¼šä¸ä¸å…¶ä»–ç³»ç»Ÿå†²çª
    if (reviewActive || currentLearningChallenge || paused) return;

    // è·å–éœ€è¦å¤ä¹ çš„å•è¯
    const words = getWordsForReview(3);
    if (words.length === 0) return;

    // åˆå§‹åŒ–å¤ä¹ çŠ¶æ€
    reviewActive = true;
    reviewWords = words;
    reviewIndex = 0;
    reviewResults = [];
    paused = true;

    showToast("ğŸ“š å¿«é€Ÿå¤ä¹ ï¼", 1000);
    setTimeout(() => showReviewWord(), 500);
}

/**
 * æ˜¾ç¤ºå½“å‰å¤ä¹ å•è¯
 */
function showReviewWord() {
    if (reviewIndex >= reviewWords.length) {
        finishReview();
        return;
    }

    const wordObj = reviewWords[reviewIndex];

    // å¤ç”¨ç°æœ‰çš„ Challenge ç³»ç»Ÿæ¥æ˜¾ç¤ºé¢˜ç›®
    // origin ä¼ å…¥ç‰¹æ®Šæ ‡è®°å¯¹è±¡
    startLearningChallenge(wordObj, "translate", {
        _isReview: true,
        _reviewIndex: reviewIndex
    });
}

/**
 * å®Œæˆå¤ä¹ æµç¨‹ï¼Œæ˜¾ç¤ºç»“æœå’Œå¥–åŠ±
 */
function finishReview() {
    reviewActive = false;

    const correct = reviewResults.filter(r => r.correct).length;
    const total = reviewResults.length;

    // æ›´æ–°ç»Ÿè®¡ï¼ˆå·²åœ¨ completeLearningChallenge ä¸­è®°å½•ï¼‰

    // è®¡ç®—å¥–åŠ±
    addScore(correct * 30);

    if (correct === total && total > 0) {
        // å…¨å¯¹å¥–åŠ±
        inventory.diamond = (inventory.diamond || 0) + 1;
        updateInventoryUI();
        showToast(`ğŸ“š å¤ä¹ å®Œæˆï¼å…¨å¯¹ï¼+${correct * 30}åˆ† +1ğŸ’`, 2500);
    } else {
        showToast(`ğŸ“š å¤ä¹ å®Œæˆï¼${correct}/${total} +${correct * 30}åˆ†`, 2000);
    }

    // æ¢å¤æ¸¸æˆçŠ¶æ€
    paused = false;
}
```

#### Step 4: ä¿®æ”¹ completeLearningChallenge() å¤„ç†å¤ä¹ æ¥æº

**æ–‡ä»¶**ï¼š`src/modules/12-challenges.js`

åœ¨ `completeLearningChallenge(correct)` ä¸­ï¼ŒChest åˆ†æ”¯ä¹‹åè¿½åŠ ï¼š

```javascript
function completeLearningChallenge(correct) {
    hideLearningChallenge();

    // è®°å½•ç­”é¢˜ç»Ÿè®¡ï¼ˆå‰ç½®æ¡ä»¶å·²å®Œæˆï¼‰
    const wordEn = currentLearningChallenge?.wordObj?.en;
    if (wordEn) {
        // ... è®°å½• challengeStats ...
    }

    // === æ–°å¢ï¼šå¤„ç†å¤ä¹ æ¥æºï¼ˆå¿…é¡»åœ¨ paused æ¢å¤ä¹‹å‰ï¼‰ ===
    if (challengeOrigin && challengeOrigin._isReview) {
        // è®°å½•å¤ä¹ ç»“æœ
        reviewResults.push({
            word: currentLearningChallenge.wordObj.en,
            correct: correct
        });

        // ç§»åˆ°ä¸‹ä¸€ä¸ªå•è¯
        reviewIndex++;

        // æ¸…ç†çŠ¶æ€
        currentLearningChallenge = null;
        challengeOrigin = null;

        // çŸ­æš‚å»¶è¿Ÿåæ˜¾ç¤ºä¸‹ä¸€ä¸ªï¼ˆä¸æ¢å¤ pausedï¼‰
        setTimeout(() => showReviewWord(), 600);

        return;  // æå‰è¿”å›ï¼Œä¸æ‰§è¡Œåé¢çš„é€»è¾‘
    }

    // å¤„ç†ç­”å¯¹ç­”é”™ï¼ˆWordGateã€Chest åˆ†æ”¯ï¼‰
    if (correct) {
        // ...
    } else {
        // ...
    }

    // æ¢å¤æ¸¸æˆçŠ¶æ€
    paused = challengePausedBefore;
    currentLearningChallenge = null;
    challengeOrigin = null;
}
```

**å…³é”®ç‚¹**ï¼šå¤ä¹ åˆ†æ”¯å¿…é¡»åœ¨ `paused = challengePausedBefore` ä¹‹å‰ returnï¼Œä¿æŒæ¸¸æˆæš‚åœç›´åˆ°å¤ä¹ å…¨éƒ¨å®Œæˆã€‚

#### Step 5: æ–°å¢é…ç½®é¡¹

**æ–‡ä»¶**ï¼š`src/defaults.js`

```javascript
const defaultSettings = {
    // ç°æœ‰é…ç½®...

    // å¤ä¹ ç³»ç»Ÿ
    reviewOnBiomeSwitch: true,       // biome åˆ‡æ¢æ—¶æ˜¯å¦è§¦å‘å¤ä¹ 
};
```

åœ¨ `normalizeSettings()` ä¸­åŠ å…¥ï¼š

```javascript
if (typeof merged.reviewOnBiomeSwitch !== "boolean") {
    merged.reviewOnBiomeSwitch = defaultSettings.reviewOnBiomeSwitch ?? true;
}
```

### âœ… éªŒè¯æ¸…å•

- [ ] ç©æ¸¸æˆï¼Œå…ˆç­”å‡ é“ Challenge ç§¯ç´¯ç­”é¢˜æ•°æ®
- [ ] åˆ†æ•°è¾¾åˆ° biome åˆ‡æ¢é˜ˆå€¼ï¼ˆé»˜è®¤200åˆ†ï¼‰
- [ ] åˆ‡æ¢ biome å 1.5 ç§’å¼¹å‡ºå¤ä¹ 
- [ ] è¿ç»­3é“ç¿»è¯‘é¢˜ï¼Œç­”å®Œæ˜¾ç¤ºç»“æœå’Œå¥–åŠ±
- [ ] å¦‚æœæ²¡æœ‰ç­”é¢˜è®°å½•ï¼ˆæ–°æ¸¸æˆï¼‰ï¼Œä¸å¼¹å‡ºå¤ä¹ 
- [ ] å…¨å¯¹å¥–åŠ±ï¼š+90åˆ† +1ğŸ’
- [ ] å¤ä¹ è¿‡ç¨‹ä¸­æ¸¸æˆæš‚åœï¼Œä¸å—ä¼¤å®³

### ğŸ“¦ æäº¤ä¿¡æ¯

```bash
git add .
git commit -m "feat: å­¦ä¹ ç³»ç»Ÿ - Biome åˆ‡æ¢å¤ä¹  (v1.6.3)

- Biome åˆ‡æ¢æ—¶è§¦å‘å¿«é€Ÿå¤ä¹ ï¼ˆ3é¢˜ï¼‰
- åŸºäºé—´éš”é‡å¤ç®—æ³•é€‰æ‹©å¤ä¹ å•è¯
- ä¼˜å…ˆå¤ä¹ é”™è¯¯ç‡é«˜å’Œä¹…æœªå¤ä¹ çš„å•è¯
- å…¨å¯¹å¥–åŠ±ï¼š+90åˆ† +1ğŸ’
- æ–°å¢ reviewOnBiomeSwitch é…ç½®é¡¹
- å¤ä¹ è¿‡ç¨‹æ¸¸æˆæš‚åœï¼Œä¸å—å¹²æ‰°"

git push origin main
```

### ğŸ“„ ç‰ˆæœ¬è®°å½•æ›´æ–°

æ›´æ–° `apk/docs/version/CHANGELOG.md`ï¼š

```markdown
## v1.6.3 (2026-02-15)

### âœ¨ æ–°åŠŸèƒ½
- **Biome åˆ‡æ¢å¤ä¹ ** - åˆ©ç”¨è‡ªç„¶åœé¡¿ç‚¹å·©å›ºè®°å¿†
  - Biome åˆ‡æ¢å 1.5 ç§’è§¦å‘å¿«é€Ÿå¤ä¹ 
  - è¿ç»­ 3 é“ç¿»è¯‘é¢˜
  - åŸºäºé—´éš”é‡å¤ç®—æ³•é€‰æ‹©å¤ä¹ å•è¯
  - ä¼˜å…ˆå¤ä¹ é”™è¯¯ç‡é«˜å’Œä¹…æœªå¤ä¹ çš„å•è¯
  - å…¨å¯¹å¥–åŠ±ï¼š+90åˆ† +1ğŸ’
  - æ–°å¢ reviewOnBiomeSwitch é…ç½®é¡¹

### ğŸ”§ æŠ€æœ¯æ”¹è¿›
- æ–°å¢ getWordsForReview() æ™ºèƒ½é€‰è¯å‡½æ•°
- æ–°å¢å¤ä¹ æµç¨‹æ§åˆ¶ï¼ˆmaybeShowReviewã€showReviewWordã€finishReviewï¼‰
- completeLearningChallenge æ–°å¢å¤ä¹ æ¥æºå¤„ç†
- å¤ä¹ è¿‡ç¨‹æ¸¸æˆæš‚åœï¼Œç¡®ä¿ä¸å—å¹²æ‰°

### ğŸ® æ¸¸æˆä½“éªŒ
- å¤ä¹ èå…¥æ¸¸æˆè‡ªç„¶èŠ‚å¥ï¼Œä¸æ‰“æ–­å¿ƒæµ
- é—´éš”é‡å¤ç®—æ³•æå‡è®°å¿†æ•ˆæœ
- å…¨å¯¹å¥–åŠ±å¢å¼ºå­¦ä¹ åŠ¨æœº
```

---

## v1.6.4 - æ‰©å±•ä¸ªäººèµ„æ–™é¢æ¿

### ğŸ“‹ ç‰ˆæœ¬ä¿¡æ¯
- **ç‰ˆæœ¬å·**ï¼šv1.6.4
- **åŠŸèƒ½æ ‡é¢˜**ï¼šå­¦ä¹ ç³»ç»Ÿ - ä¸ªäººèµ„æ–™é¢æ¿æ‰©å±•
- **ä¾èµ–**ï¼šv1.6.0
- **é¢„è®¡å·¥ä½œé‡**ï¼š2å°æ—¶

### ğŸ¯ ç›®æ ‡
åœ¨ä¸ªäººèµ„æ–™é¢æ¿ä¸­å¢åŠ ç­”é¢˜ç»Ÿè®¡å’Œå•è¯æœ¬æŸ¥çœ‹åŠŸèƒ½ï¼Œå¯è§†åŒ–å­¦ä¹ æˆé•¿ã€‚

### ğŸ“ å®æ–½æ­¥éª¤

#### Step 1: åœ¨ä¸ªäººèµ„æ–™é¢æ¿ä¸­æ˜¾ç¤ºç­”é¢˜æ­£ç¡®ç‡

**æ–‡ä»¶**ï¼š`src/modules/08-account.js`ï¼ˆ`showProfileModal()` å‡½æ•°ï¼‰

åœ¨ç°æœ‰çš„ç»Ÿè®¡æ˜¾ç¤ºä¹‹åè¿½åŠ ï¼š

```javascript
function showProfileModal() {
    // åŸæœ‰çš„æ˜¾ç¤ºé€»è¾‘...

    // æ¸¸æˆç»Ÿè®¡
    if (profileGamesEl) {
        profileGamesEl.innerText = currentAccount.stats?.gamesPlayed || 0;
    }

    // === æ–°å¢ï¼šç­”é¢˜ç»Ÿè®¡ ===
    const challengeStatsEl = document.getElementById("profile-challenge-stats");
    if (challengeStatsEl) {
        const cs = getChallengeStats();

        if (cs.totalCorrect + cs.totalWrong > 0) {
            challengeStatsEl.innerHTML =
                `ç­”é¢˜ ${cs.totalCorrect + cs.totalWrong} æ¬¡ï¼Œ` +
                `æ­£ç¡®ç‡ <strong>${cs.accuracy}%</strong>ï¼Œ` +
                `æ¶‰åŠ ${cs.wordCount} ä¸ªå•è¯`;
        } else {
            challengeStatsEl.innerHTML = 'è¿˜æ²¡æœ‰ç­”é¢˜è®°å½•';
            challengeStatsEl.style.color = '#888';
        }
    }

    // æ˜¾ç¤ºæ¨¡æ€æ¡†
    profileModal.classList.add("visible");
    profileModal.setAttribute("aria-hidden", "false");
}
```

#### Step 2: åœ¨ Game.html ä¸­æ·»åŠ å¯¹åº” DOM å…ƒç´ 

**æ–‡ä»¶**ï¼š`Game.html`ï¼ˆprofile-modal åŒºåŸŸï¼‰

åœ¨ç°æœ‰çš„ç»Ÿè®¡é¡¹ä¹‹åè¿½åŠ ï¼š

```html
<!-- ç°æœ‰ç»Ÿè®¡é¡¹ -->
<div class="profile-stat">
    <span class="profile-stat-label">ğŸ® æ¸¸æˆæ¬¡æ•°</span>
    <span class="profile-stat-value" id="profile-games">0</span>
</div>

<!-- æ–°å¢ï¼šç­”é¢˜ç»Ÿè®¡ -->
<div class="profile-stat">
    <span class="profile-stat-label">ğŸ“ ç­”é¢˜ç»Ÿè®¡</span>
    <span class="profile-stat-value" id="profile-challenge-stats">-</span>
</div>
```

#### Step 3: æ·»åŠ å•è¯æœ¬æŒ‰é’®å’Œå¼¹çª—

**æ–‡ä»¶**ï¼š`Game.html`ï¼ˆprofile-modal å†…ï¼‰

åœ¨ä¸ªäººèµ„æ–™é¢æ¿åº•éƒ¨æ·»åŠ æŒ‰é’®ï¼š

```html
<div class="modal-content profile-panel">
    <!-- ç°æœ‰å†…å®¹ -->

    <!-- æ–°å¢ï¼šå•è¯æœ¬æŒ‰é’® -->
    <button id="btn-vocab-book" class="profile-btn">
        ğŸ“– æˆ‘çš„å•è¯æœ¬
    </button>

    <button id="btn-close-profile" class="modal-close-btn">å…³é—­</button>
</div>

<!-- æ–°å¢ï¼šå•è¯æœ¬æ¨¡æ€æ¡† -->
<div id="vocab-book-modal" class="modal-overlay" aria-hidden="true">
    <div class="modal-content vocab-book">
        <h3>ğŸ“– æˆ‘çš„å•è¯æœ¬</h3>
        <div id="vocab-book-list" class="vocab-book-list"></div>
        <button id="btn-close-vocab-book" class="modal-close-btn">å…³é—­</button>
    </div>
</div>
```

#### Step 4: å®ç°å•è¯æœ¬æ¸²æŸ“é€»è¾‘

**æ–‡ä»¶**ï¼š`src/modules/08-account.js`ï¼ˆæœ«å°¾è¿½åŠ ï¼‰

```javascript
/**
 * æ˜¾ç¤ºå•è¯æœ¬
 */
function showVocabBook() {
    const modal = document.getElementById("vocab-book-modal");
    const list = document.getElementById("vocab-book-list");
    if (!modal || !list) return;

    const stats = progress.challengeStats || {};
    const words = Object.keys(stats);

    if (words.length === 0) {
        list.innerHTML = `
            <div style="text-align:center;padding:40px;color:#888;">
                <p>ğŸ“š</p>
                <p>è¿˜æ²¡æœ‰ç­”é¢˜è®°å½•</p>
                <p style="font-size:12px;margin-top:10px;">
                    æ”¶é›†å•è¯æˆ–å¼€å®ç®±åä¼šæœ‰ç­”é¢˜æœºä¼š
                </p>
            </div>
        `;
    } else {
        // æŒ‰æŒæ¡ç¨‹åº¦æ’åºï¼šéœ€å¤ä¹ çš„åœ¨å‰
        words.sort((a, b) => {
            const aS = stats[a];
            const bS = stats[b];
            const aTotal = (aS.correct || 0) + (aS.wrong || 0) || 1;
            const bTotal = (bS.correct || 0) + (bS.wrong || 0) || 1;
            const aRate = (aS.correct || 0) / aTotal;
            const bRate = (bS.correct || 0) / bTotal;
            return aRate - bRate;  // æ­£ç¡®ç‡ä½çš„åœ¨å‰
        });

        list.innerHTML = words.map(word => {
            const s = stats[word];
            const total = (s.correct || 0) + (s.wrong || 0);
            const rate = total > 0 ? Math.round(s.correct / total * 100) : 0;

            // æ‰¾ä¸­æ–‡ç¿»è¯‘
            const found = wordDatabase.find(w => w.en === word);
            const zh = found?.zh || "";

            // æŒæ¡ç¨‹åº¦é¢œè‰²
            let color, status;
            if (rate >= 80) {
                color = "#4CAF50";  // ç»¿è‰² = å·²æŒæ¡
                status = "âœ“";
            } else if (rate >= 50) {
                color = "#FFC107";  // é»„è‰² = å­¦ä¹ ä¸­
                status = "â—";
            } else {
                color = "#F44336";  // çº¢è‰² = éœ€å¤ä¹ 
                status = "âœ—";
            }

            return `
                <div class="vocab-book-item">
                    <span class="vocab-status" style="color:${color}">${status}</span>
                    <span class="vocab-word">${word.toUpperCase()}</span>
                    <span class="vocab-zh">${zh}</span>
                    <span class="vocab-rate" style="color:${color}">${rate}%</span>
                    <span class="vocab-count">âœ“${s.correct || 0} âœ—${s.wrong || 0}</span>
                </div>
            `;
        }).join("");
    }

    // æ˜¾ç¤ºæ¨¡æ€æ¡†
    modal.classList.add("visible");
    modal.setAttribute("aria-hidden", "false");
}

/**
 * éšè—å•è¯æœ¬
 */
function hideVocabBook() {
    const modal = document.getElementById("vocab-book-modal");
    if (modal) {
        modal.classList.remove("visible");
        modal.setAttribute("aria-hidden", "true");
    }
}
```

#### Step 5: ç»‘å®šäº‹ä»¶

**æ–‡ä»¶**ï¼š`src/modules/16-events.js`ï¼ˆäº‹ä»¶ç»‘å®šå¤„ï¼‰

```javascript
// åœ¨ wireLearningModals() æˆ–ç±»ä¼¼äº‹ä»¶ç»‘å®šå‡½æ•°ä¸­æ·»åŠ 

const btnVocabBook = document.getElementById("btn-vocab-book");
if (btnVocabBook) {
    btnVocabBook.addEventListener("click", () => {
        showVocabBook();
    });
}

const btnCloseVocabBook = document.getElementById("btn-close-vocab-book");
if (btnCloseVocabBook) {
    btnCloseVocabBook.addEventListener("click", () => {
        hideVocabBook();
    });
}
```

#### Step 6: æ·»åŠ åŸºç¡€æ ·å¼

**æ–‡ä»¶**ï¼š`Game.html`ï¼ˆstyle åŒºåŸŸï¼‰

```css
/* å•è¯æœ¬æ ·å¼ */
.vocab-book {
    max-height: 70vh;
    overflow-y: auto;
}

.vocab-book-list {
    margin: 20px 0;
}

.vocab-book-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 12px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    font-size: 14px;
    transition: background 0.2s;
}

.vocab-book-item:hover {
    background: rgba(255,255,255,0.05);
}

.vocab-status {
    font-weight: bold;
    min-width: 20px;
    text-align: center;
}

.vocab-word {
    font-weight: bold;
    min-width: 100px;
    font-family: 'Courier New', monospace;
}

.vocab-zh {
    color: #ccc;
    min-width: 80px;
}

.vocab-rate {
    min-width: 45px;
    text-align: right;
    font-weight: bold;
}

.vocab-count {
    color: #888;
    min-width: 70px;
    text-align: right;
    font-size: 12px;
}

.profile-btn {
    width: 100%;
    margin-top: 10px;
    padding: 12px;
    background: rgba(76, 175, 80, 0.2);
    border: 1px solid #4CAF50;
    color: white;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}

.profile-btn:hover {
    background: rgba(76, 175, 80, 0.4);
}
```

### âœ… éªŒè¯æ¸…å•

- [ ] æ‰“å¼€ä¸ªäººèµ„æ–™é¢æ¿ â†’ çœ‹åˆ°ç­”é¢˜ç»Ÿè®¡è¡Œ
- [ ] ç‚¹å‡»"æˆ‘çš„å•è¯æœ¬" â†’ å¼¹å‡ºå•è¯åˆ—è¡¨
- [ ] åˆ—è¡¨æŒ‰æŒæ¡ç¨‹åº¦æ’åºï¼ˆéœ€å¤ä¹ çš„åœ¨å‰ï¼‰
- [ ] é¢œè‰²åŒºåˆ†ï¼šçº¢è‰²ï¼ˆ<50%ï¼‰ã€é»„è‰²ï¼ˆ50-79%ï¼‰ã€ç»¿è‰²ï¼ˆâ‰¥80%ï¼‰
- [ ] æ— ç­”é¢˜è®°å½•æ—¶æ˜¾ç¤ºç©ºçŠ¶æ€æç¤º
- [ ] å•è¯æœ¬å¯æ»šåŠ¨ï¼Œæ ·å¼ç¾è§‚

### ğŸ“¦ æäº¤ä¿¡æ¯

```bash
git add .
git commit -m "feat: å­¦ä¹ ç³»ç»Ÿ - ä¸ªäººèµ„æ–™é¢æ¿æ‰©å±• (v1.6.4)

- ä¸ªäººèµ„æ–™é¢æ¿æ˜¾ç¤ºç­”é¢˜ç»Ÿè®¡ï¼ˆæ¬¡æ•°ã€æ­£ç¡®ç‡ã€å•è¯æ•°ï¼‰
- æ–°å¢å•è¯æœ¬åŠŸèƒ½ï¼ŒæŸ¥çœ‹æ‰€æœ‰ç­”é¢˜å•è¯
- å•è¯æŒ‰æŒæ¡ç¨‹åº¦æ’åºï¼ˆéœ€å¤ä¹ çš„åœ¨å‰ï¼‰
- é¢œè‰²æ ‡è®°ï¼šçº¢è‰²ï¼ˆ<50%ï¼‰ã€é»„è‰²ï¼ˆ50-79%ï¼‰ã€ç»¿è‰²ï¼ˆâ‰¥80%ï¼‰
- æ˜¾ç¤ºæ¯ä¸ªå•è¯çš„ç­”å¯¹/ç­”é”™æ¬¡æ•°
- å¯è§†åŒ–å­¦ä¹ æˆé•¿ï¼Œæå‡é•¿æœŸåŠ¨åŠ›"

git push origin main
```

### ğŸ“„ ç‰ˆæœ¬è®°å½•æ›´æ–°

æ›´æ–° `apk/docs/version/CHANGELOG.md`ï¼š

```markdown
## v1.6.4 (2026-02-15)

### âœ¨ æ–°åŠŸèƒ½
- **ä¸ªäººèµ„æ–™é¢æ¿æ‰©å±•** - å¯è§†åŒ–å­¦ä¹ æˆé•¿
  - æ˜¾ç¤ºç­”é¢˜ç»Ÿè®¡ï¼ˆæ¬¡æ•°ã€æ­£ç¡®ç‡ã€å•è¯æ•°ï¼‰
  - æ–°å¢"æˆ‘çš„å•è¯æœ¬"åŠŸèƒ½
  - å•è¯æŒ‰æŒæ¡ç¨‹åº¦æ’åºï¼ˆéœ€å¤ä¹ çš„åœ¨å‰ï¼‰
  - é¢œè‰²æ ‡è®°ï¼šçº¢è‰²ï¼ˆ<50%ï¼‰ã€é»„è‰²ï¼ˆ50-79%ï¼‰ã€ç»¿è‰²ï¼ˆâ‰¥80%ï¼‰
  - æ˜¾ç¤ºæ¯ä¸ªå•è¯çš„ç­”å¯¹/ç­”é”™æ¬¡æ•°

### ğŸ”§ æŠ€æœ¯æ”¹è¿›
- æ–°å¢ showVocabBook() å’Œ hideVocabBook() å‡½æ•°
- ä¸ªäººèµ„æ–™é¢æ¿é›†æˆ getChallengeStats() ç»Ÿè®¡
- å•è¯æœ¬æ¨¡æ€æ¡†æ”¯æŒæ»šåŠ¨å’Œæ‚¬åœæ•ˆæœ

### ğŸ¨ UI/UX æ”¹è¿›
- å•è¯æœ¬æ ·å¼ç¾è§‚ï¼Œæ˜“äºé˜…è¯»
- ç©ºçŠ¶æ€æç¤ºå‹å¥½
- æŒæ¡ç¨‹åº¦ä¸€ç›®äº†ç„¶
```

---

## v1.6.5 - é›†æˆæµ‹è¯•ä¸ä¼˜åŒ–

### ğŸ“‹ ç‰ˆæœ¬ä¿¡æ¯
- **ç‰ˆæœ¬å·**ï¼šv1.6.5
- **åŠŸèƒ½æ ‡é¢˜**ï¼šå­¦ä¹ ç³»ç»Ÿ - é›†æˆæµ‹è¯•ä¸ä¼˜åŒ–
- **ä¾èµ–**ï¼šv1.6.0 - v1.6.4 å…¨éƒ¨å®Œæˆ
- **é¢„è®¡å·¥ä½œé‡**ï¼š2å°æ—¶

### ğŸ¯ ç›®æ ‡
å…¨é¢æµ‹è¯•å­¦ä¹ ç³»ç»Ÿå„åŠŸèƒ½çš„é›†æˆæ•ˆæœï¼Œä¿®å¤ bugï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚

### ğŸ“ æµ‹è¯•æ¸…å•

#### 1. æ•°æ®ç»“æ„æµ‹è¯•

- [ ] æ–°æ¸¸æˆå¼€å§‹ï¼Œç¡®è®¤ `progress.challengeStats` åˆå§‹åŒ–ä¸ºç©ºå¯¹è±¡
- [ ] ç­”é¢˜åæ•°æ®æ­£ç¡®è®°å½•åˆ° LocalStorage
- [ ] åˆ·æ–°é¡µé¢åæ•°æ®æŒä¹…åŒ–ä¿ç•™
- [ ] å¤šæ¬¡ç­”é¢˜ï¼Œæ•°æ®ç´¯åŠ æ­£ç¡®

#### 2. å®ç®±å­¦ä¹ æµ‹è¯•

- [ ] é è¿‘å®ç®±æŒ‰äº¤äº’é”®ï¼Œå¼¹å‡ºç­”é¢˜ç•Œé¢
- [ ] ç­”å¯¹ï¼šå®ç®±ç¨€æœ‰åº¦æå‡ï¼Œæ‰è½æ›´å¥½
- [ ] ç­”é”™ï¼šå®ç®±æ­£å¸¸å¼€å¯ï¼Œæ‰è½æ­£å¸¸
- [ ] æ”¶é›†å•è¯æ—¶ä¸å†éšæœºå¼¹å‡º Challenge
- [ ] WordGate è§¦å‘çš„ Challenge ä¸å—å½±å“
- [ ] è®¾ç½®ä¸­å…³é—­ `chestLearningEnabled`ï¼Œå®ç®±ç›´æ¥å¼€å¯

#### 3. ç¯å¢ƒå•è¯æ ‡ç­¾æµ‹è¯•

- [ ] æ•Œäººä¸Šæ–¹æ˜¾ç¤ºè‹±æ–‡åï¼ˆZOMBIEã€SPIDER ç­‰ï¼‰
- [ ] å®ç®±æœªå¼€å¯æ—¶æ˜¾ç¤º CHEST
- [ ] å‚€å„¡æ˜¾ç¤º IRON GOLEM / SNOW GOLEM
- [ ] æ ‡ç­¾ä¸é®æŒ¡è¡€æ¡
- [ ] æ ‡ç­¾åœ¨ä»»ä½•èƒŒæ™¯ä¸‹æ¸…æ™°å¯è§
- [ ] è®¾ç½®ä¸­å…³é—­ `showEnvironmentWords`ï¼Œæ ‡ç­¾æ¶ˆå¤±

#### 4. Biome åˆ‡æ¢å¤ä¹ æµ‹è¯•

- [ ] ç§¯ç´¯ç­”é¢˜æ•°æ®åï¼Œåˆ‡æ¢ biome è§¦å‘å¤ä¹ 
- [ ] è¿ç»­ 3 é“ç¿»è¯‘é¢˜
- [ ] å¤ä¹ è¿‡ç¨‹æ¸¸æˆæš‚åœï¼Œä¸å—ä¼¤å®³
- [ ] å…¨å¯¹å¥–åŠ±ï¼š+90åˆ† +1ğŸ’
- [ ] æ— ç­”é¢˜è®°å½•æ—¶ä¸è§¦å‘å¤ä¹ 
- [ ] è®¾ç½®ä¸­å…³é—­ `reviewOnBiomeSwitch`ï¼Œä¸è§¦å‘å¤ä¹ 

#### 5. ä¸ªäººèµ„æ–™é¢æ¿æµ‹è¯•

- [ ] æ‰“å¼€ä¸ªäººèµ„æ–™ï¼Œæ˜¾ç¤ºç­”é¢˜ç»Ÿè®¡
- [ ] ç‚¹å‡»"æˆ‘çš„å•è¯æœ¬"ï¼Œå¼¹å‡ºå•è¯åˆ—è¡¨
- [ ] å•è¯æŒ‰æŒæ¡ç¨‹åº¦æ’åº
- [ ] é¢œè‰²æ ‡è®°æ­£ç¡®ï¼ˆçº¢/é»„/ç»¿ï¼‰
- [ ] æ— ç­”é¢˜è®°å½•æ—¶æ˜¾ç¤ºç©ºçŠ¶æ€
- [ ] å•è¯æœ¬å¯æ»šåŠ¨

#### 6. é…ç½®å¼€å…³æµ‹è¯•

- [ ] æ‰€æœ‰æ–°å¢é…ç½®é¡¹åœ¨ `defaultSettings` ä¸­æœ‰é»˜è®¤å€¼
- [ ] è®¾ç½®é¢æ¿ä¸­æ‰€æœ‰å¼€å…³å¯æ­£å¸¸åˆ‡æ¢
- [ ] å…³é—­æŸåŠŸèƒ½åï¼Œè¯¥åŠŸèƒ½ä¸å†è§¦å‘
- [ ] è®¾ç½®ä¿å­˜åˆ° LocalStorage
- [ ] åˆ·æ–°é¡µé¢åè®¾ç½®ä¿ç•™

#### 7. è¾¹ç•Œæƒ…å†µæµ‹è¯•

- [ ] æ— å•è¯åº“æ—¶ï¼Œå®ç®±ç›´æ¥å¼€å¯
- [ ] æ— ç­”é¢˜è®°å½•æ—¶ï¼Œå¤ä¹ ä¸è§¦å‘
- [ ] æ— ç­”é¢˜è®°å½•æ—¶ï¼Œå•è¯æœ¬æ˜¾ç¤ºç©ºçŠ¶æ€
- [ ] åŒæ—¶è§¦å‘å¤šä¸ª Challenge æ—¶ï¼Œäº’æ–¥æ£€æŸ¥ç”Ÿæ•ˆ
- [ ] å¤ä¹ è¿‡ç¨‹ä¸­å—åˆ°æ”»å‡»ï¼Œæ¸¸æˆæš‚åœä¿æŠ¤ç”Ÿæ•ˆ

#### 8. æ€§èƒ½æµ‹è¯•

- [ ] ç¯å¢ƒæ ‡ç­¾æ¸²æŸ“æ— å¡é¡¿ï¼ˆ10+ æ•ŒäººåŒå±ï¼‰
- [ ] å•è¯æœ¬åˆ—è¡¨æ¸²æŸ“æµç•…ï¼ˆ100+ å•è¯ï¼‰
- [ ] ç­”é¢˜æ•°æ®æŸ¥è¯¢æ— å»¶è¿Ÿ
- [ ] LocalStorage è¯»å†™æ— æ€§èƒ½é—®é¢˜

### ğŸ› å·²çŸ¥é—®é¢˜ä¿®å¤

#### é—®é¢˜ 1ï¼špickNextWord() å‡½æ•°å¯èƒ½ä¸å­˜åœ¨

**è§£å†³æ–¹æ¡ˆ**ï¼šåœ¨ v1.6.1 ä¸­å·²æ·»åŠ ï¼Œç¡®è®¤å‡½æ•°å­˜åœ¨ä¸”å¯ç”¨ã€‚

#### é—®é¢˜ 2ï¼šå…¨å±€çŠ¶æ€å†²çª

**è§£å†³æ–¹æ¡ˆ**ï¼šåœ¨æ‰€æœ‰ Challenge å…¥å£æ£€æŸ¥ `currentLearningChallenge` äº’æ–¥ã€‚

```javascript
// åœ¨ startLearningChallenge å¼€å¤´æ·»åŠ 
if (currentLearningChallenge) {
    console.warn("Challenge already active, ignoring new trigger");
    return;
}
```

#### é—®é¢˜ 3ï¼šå¤ä¹ ä¸­æ–­é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼šç¡®è®¤ `paused = true` æœŸé—´ `update()` å‡½æ•°ä¸æ‰§è¡Œã€‚

```javascript
// åœ¨ update() å‡½æ•°å¼€å¤´ç¡®è®¤æœ‰æ­¤æ£€æŸ¥
function update() {
    if (paused) return;
    // ...
}
```

### ğŸ¨ ç”¨æˆ·ä½“éªŒä¼˜åŒ–

#### ä¼˜åŒ– 1ï¼šå®ç®±å­¦ä¹ æç¤ºæ›´æ¸…æ™°

åœ¨å®ç®±é™„è¿‘æ˜¾ç¤ºæç¤ºæ–‡å­—ï¼š

```javascript
// åœ¨ drawHUD() æˆ–ç±»ä¼¼å‡½æ•°ä¸­æ·»åŠ 
if (nearestChest && settings.chestLearningEnabled) {
    ctx.fillStyle = "rgba(255,255,255,0.9)";
    ctx.font = "14px Arial";
    ctx.textAlign = "center";
    ctx.fillText("æŒ‰ E ç­”é¢˜å¼€ç®±", canvas.width / 2, 50);
}
```

#### ä¼˜åŒ– 2ï¼šå¤ä¹ å€’è®¡æ—¶æç¤º

åœ¨å¤ä¹ å¼€å§‹å‰æ˜¾ç¤ºå€’è®¡æ—¶ï¼š

```javascript
function maybeShowReview() {
    // ...
    showToast("ğŸ“š 3ç§’åå¼€å§‹å¤ä¹ ...", 1000);
    setTimeout(() => {
        showToast("ğŸ“š å¿«é€Ÿå¤ä¹ ï¼", 1000);
        setTimeout(() => showReviewWord(), 500);
    }, 3000);
}
```

#### ä¼˜åŒ– 3ï¼šå•è¯æœ¬æœç´¢åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

åœ¨å•è¯æœ¬é¡¶éƒ¨æ·»åŠ æœç´¢æ¡†ï¼š

```html
<div class="vocab-book-search">
    <input type="text" id="vocab-search" placeholder="æœç´¢å•è¯...">
</div>
```

```javascript
// åœ¨ showVocabBook() ä¸­æ·»åŠ æœç´¢é€»è¾‘
const searchInput = document.getElementById("vocab-search");
if (searchInput) {
    searchInput.addEventListener("input", (e) => {
        const query = e.target.value.toLowerCase();
        const items = document.querySelectorAll(".vocab-book-item");
        items.forEach(item => {
            const word = item.querySelector(".vocab-word").textContent.toLowerCase();
            item.style.display = word.includes(query) ? "flex" : "none";
        });
    });
}
```

### ğŸ“¦ æäº¤ä¿¡æ¯

```bash
git add .
git commit -m "feat: å­¦ä¹ ç³»ç»Ÿ - é›†æˆæµ‹è¯•ä¸ä¼˜åŒ– (v1.6.5)

- å®Œæˆå­¦ä¹ ç³»ç»Ÿå…¨åŠŸèƒ½é›†æˆæµ‹è¯•
- ä¿®å¤å…¨å±€çŠ¶æ€å†²çªé—®é¢˜
- ä¼˜åŒ–å®ç®±å­¦ä¹ æç¤ºæ–‡å­—
- ä¼˜åŒ–å¤ä¹ å€’è®¡æ—¶æç¤º
- æ–°å¢å•è¯æœ¬æœç´¢åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰
- ç¡®è®¤æ‰€æœ‰é…ç½®å¼€å…³æ­£å¸¸å·¥ä½œ
- æ€§èƒ½æµ‹è¯•é€šè¿‡ï¼Œæ— å¡é¡¿"

git push origin main
```

### ğŸ“„ ç‰ˆæœ¬è®°å½•æ›´æ–°

æ›´æ–° `apk/docs/version/CHANGELOG.md`ï¼š

```markdown
## v1.6.5 (2026-02-15)

### âœ¨ æ–°åŠŸèƒ½
- **å­¦ä¹ ç³»ç»Ÿé›†æˆå®Œæˆ** - å…¨åŠŸèƒ½æµ‹è¯•é€šè¿‡
  - å®ç®±å­¦ä¹ æç¤ºæ›´æ¸…æ™°
  - å¤ä¹ å€’è®¡æ—¶æç¤º
  - å•è¯æœ¬æœç´¢åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

### ğŸ› Bug ä¿®å¤
- ä¿®å¤å…¨å±€çŠ¶æ€å†²çªé—®é¢˜
- ä¿®å¤å¤ä¹ ä¸­æ–­é—®é¢˜
- ä¿®å¤è¾¹ç•Œæƒ…å†µå¤„ç†

### ğŸ”§ æŠ€æœ¯æ”¹è¿›
- å®Œæˆé›†æˆæµ‹è¯•æ¸…å•
- æ€§èƒ½æµ‹è¯•é€šè¿‡
- æ‰€æœ‰é…ç½®å¼€å…³æ­£å¸¸å·¥ä½œ

### ğŸ¨ UI/UX æ”¹è¿›
- å®ç®±é™„è¿‘æ˜¾ç¤º"æŒ‰ E ç­”é¢˜å¼€ç®±"æç¤º
- å¤ä¹ å‰ 3 ç§’å€’è®¡æ—¶æç¤º
- å•è¯æœ¬æ”¯æŒæœç´¢è¿‡æ»¤
```

---

## å®æ–½æµç¨‹æ€»ç»“

### å®Œæ•´å®æ–½é¡ºåº

```bash
# 1. v1.6.0 - å‰ç½®ï¼šæ‰©å±•ç­”é¢˜æ•°æ®ç»“æ„
# å®æ–½ â†’ æµ‹è¯• â†’ æäº¤ â†’ æ¨é€

# 2. v1.6.1 - å®ç®±ç»‘å®šå­¦ä¹ 
# å®æ–½ â†’ æµ‹è¯• â†’ æäº¤ â†’ æ¨é€

# 3. v1.6.2 - ç¯å¢ƒå•è¯æ ‡ç­¾ï¼ˆå¯ä¸ v1.6.1 å¹¶è¡Œï¼‰
# å®æ–½ â†’ æµ‹è¯• â†’ æäº¤ â†’ æ¨é€

# 4. v1.6.3 - Biome åˆ‡æ¢å¤ä¹ 
# å®æ–½ â†’ æµ‹è¯• â†’ æäº¤ â†’ æ¨é€

# 5. v1.6.4 - æ‰©å±•ä¸ªäººèµ„æ–™é¢æ¿
# å®æ–½ â†’ æµ‹è¯• â†’ æäº¤ â†’ æ¨é€

# 6. v1.6.5 - é›†æˆæµ‹è¯•ä¸ä¼˜åŒ–
# æµ‹è¯• â†’ ä¿®å¤ â†’ ä¼˜åŒ– â†’ æäº¤ â†’ æ¨é€
```

### ç‰ˆæœ¬è®°å½•ç»´æŠ¤

æ¯ä¸ªç‰ˆæœ¬å®Œæˆåï¼Œæ›´æ–°ä»¥ä¸‹æ–‡ä»¶ï¼š

1. **CHANGELOG.md** - è¯¦ç»†çš„ç‰ˆæœ¬æ›´æ–°è®°å½•
2. **Progress.md** - é¡¹ç›®è¿›åº¦è¿½è¸ª
3. **VERSION-STATUS.md** - å½“å‰ç‰ˆæœ¬çŠ¶æ€

### Git æäº¤è§„èŒƒ

```bash
# æäº¤æ ¼å¼
git commit -m "feat: åŠŸèƒ½æ¨¡å— - åŠŸèƒ½æè¿° (ç‰ˆæœ¬å·)

- è¯¦ç»†æ”¹åŠ¨1
- è¯¦ç»†æ”¹åŠ¨2
- è¯¦ç»†æ”¹åŠ¨3"

# æ¨é€
git push origin main
```

### é¢„æœŸæ•ˆæœ

å®Œæˆå…¨éƒ¨ 6 ä¸ªç‰ˆæœ¬åï¼Œå­¦ä¹ ç³»ç»Ÿå°†å®ç°ï¼š

- âœ… ç­”é¢˜æ•°æ®å®Œæ•´è®°å½•å’Œç»Ÿè®¡
- âœ… å®ç®±å­¦ä¹ æ¶ˆé™¤éšæœºæ‰“æ–­
- âœ… ç¯å¢ƒæ ‡ç­¾å®ç°è¢«åŠ¨å­¦ä¹ 
- âœ… Biome åˆ‡æ¢å¤ä¹ å·©å›ºè®°å¿†
- âœ… ä¸ªäººèµ„æ–™é¢æ¿å¯è§†åŒ–æˆé•¿
- âœ… å…¨åŠŸèƒ½é›†æˆæµ‹è¯•é€šè¿‡

**å­¦ä¹ æ•ˆæœæå‡**ï¼š
- å•è¯è®°å¿†ç‡ï¼š40% â†’ 70%+
- ç­”é¢˜æ­£ç¡®ç‡ï¼š65% â†’ 80%+
- å¿ƒæµä¸­æ–­æ¬¡æ•°ï¼š5-8æ¬¡/å±€ â†’ 0-1æ¬¡/å±€
- è¢«åŠ¨å­¦ä¹ æ—¶é•¿ï¼š0åˆ†é’Ÿ/å±€ â†’ 5-8åˆ†é’Ÿ/å±€

---

## é™„å½•ï¼šå¿«é€Ÿå‚è€ƒ

### å…³é”®æ–‡ä»¶ä½ç½®

| æ–‡ä»¶ | è·¯å¾„ | ä¸»è¦åŠŸèƒ½ |
|------|------|---------|
| è¯æ±‡ç®¡ç† | `src/modules/09-vocab.js` | progressã€ç»Ÿè®¡æŸ¥è¯¢ |
| ç­”é¢˜ç³»ç»Ÿ | `src/modules/12-challenges.js` | Challenge è§¦å‘å’Œå®Œæˆ |
| æ¸¸æˆå¾ªç¯ | `src/modules/13-game-loop.js` | å®ç®±äº¤äº’ |
| å®ä½“æ¸²æŸ“ | `src/modules/14-renderer-entities.js` | ç¯å¢ƒæ ‡ç­¾æ¸²æŸ“ |
| å®ä½“åŸºç±» | `src/modules/15-entities-base.js` | Chest.open() |
| Biome ç®¡ç† | `src/modules/06-biome.js` | Biome åˆ‡æ¢ |
| è´¦æˆ·ç³»ç»Ÿ | `src/modules/08-account.js` | ä¸ªäººèµ„æ–™é¢æ¿ |
| äº‹ä»¶ç»‘å®š | `src/modules/16-events.js` | è®¾ç½®è¯»å†™ |
| é»˜è®¤é…ç½® | `src/defaults.js` | defaultSettings |
| ä¸»é¡µé¢ | `Game.html` | DOM ç»“æ„å’Œæ ·å¼ |

### é…ç½®é¡¹é€ŸæŸ¥

```javascript
// src/defaults.js
const defaultSettings = {
    chestLearningEnabled: true,      // å®ç®±å­¦ä¹ 
    showEnvironmentWords: true,      // ç¯å¢ƒæ ‡ç­¾
    reviewOnBiomeSwitch: true,       // å¤ä¹ ç³»ç»Ÿ
};
```

### æ•°æ®ç»“æ„é€ŸæŸ¥

```javascript
// ç­”é¢˜ç»Ÿè®¡
progress.challengeStats = {
    "apple": { correct: 5, wrong: 2, lastSeen: 1707900000000 },
    "cat":   { correct: 3, wrong: 0, lastSeen: 1707895000000 }
}

// è¯æ±‡è¿›åº¦
progress.vocab = {
    "kindergarten": {
        unique: { "apple": 3 },  // æ”¶é›†æ¬¡æ•°
        uniqueCount: 1,
        total: 17,
        completed: false
    }
}
```

---

**æ–‡æ¡£åˆ›å»ºæ—¶é—´**ï¼š2026-02-15
**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**é€‚ç”¨é¡¹ç›®**ï¼šmario-minecraft-game_V1
**å½“å‰ç‰ˆæœ¬**ï¼šv1.5.6 â†’ v1.6.5ï¼ˆç›®æ ‡ï¼‰

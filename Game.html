<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    <title>鎴戠殑涓栫晫锛氬崟璇嶅ぇ鍐掗櫓 (瀹濈澧炲己鐗?</title>
    <link rel="stylesheet" href="src/styles.css">
</head>
<body>

<div id="game-container">
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    
    <div id="ui-layer">
        <div class="hud-top">
            <div class="hud-box">馃拵 閽荤煶: <span id="score">0</span></div>
            <div class="hud-box" id="hp"></div>
            <div class="hud-box" id="word-display">Start!</div>
            <div class="hud-box" id="level-info">鍦烘櫙: 鑽夊師</div>
            <div class="hud-box" id="difficulty-info">闅惧害: 鏂版墜</div>
            <div class="hud-box" id="weapon-info">姝﹀櫒: 鈿旓笍 鐭冲墤</div>
        </div>
        
        <div class="btn-group">
            <button class="game-btn" id="btn-settings">鈿欙笍 璁剧疆</button>
            <button class="game-btn" id="btn-repeat-pause">馃攰 閲嶈/鏆傚仠</button>
        </div>

        <div class="inventory-bar">
            <button class="inv-slot inv-slot-button" id="btn-summon-golem" title="鍙敜鍌€鍎?(X)">
                <span class="inv-icon">馃椏</span>
                <span class="inv-label">鍙敜</span>
            </button>
            <div class="inv-slot" title="閽荤煶"><span class="inv-icon">馃拵</span><span class="inv-count" id="count-diamond">0</span></div>
            <div class="inv-slot" title="鍗楃摐"><span class="inv-icon">馃巸</span><span class="inv-count" id="count-pumpkin">0</span></div>
            <div class="inv-slot" title="閾佸潡"><span class="inv-icon">馃П</span><span class="inv-count" id="count-iron">0</span></div>
            <div class="inv-slot" title="鏈ㄦ"><span class="inv-icon">馃ア</span><span class="inv-count" id="count-stick">0</span></div>
            <div class="inv-slot" title="鐭冲墤"><span class="inv-icon">鈿旓笍</span><span class="inv-count" id="count-stone_sword">0</span></div>
            <div class="inv-slot" title="閾侀晲"><span class="inv-icon">鉀忥笍</span><span class="inv-count" id="count-iron_pickaxe">0</span></div>
            <div class="inv-slot" title="寮?><span class="inv-icon">馃徆</span><span class="inv-count" id="count-bow">0</span></div>
            <div class="inv-slot" title="绠煝"><span class="inv-icon">馃徆</span><span class="inv-count" id="count-arrow">0</span></div>
        </div>

        <div id="toast">Level Up!</div>
        <div id="word-card" aria-hidden="true">
            <div class="word-card-inner">
                <div class="word-card-en" id="word-card-en"></div>
                <div class="word-card-zh" id="word-card-zh"></div>
                <img class="word-card-image" id="word-card-image" alt="" style="display:none;">
            </div>
        </div>

        <div id="touch-controls" aria-hidden="true">
            <div class="touch-left">
                <button class="touch-btn" data-action="left">猬咃笍</button>
                <button class="touch-btn" data-action="right">鉃★笍</button>
            </div>
            <div class="touch-right">
                <button class="touch-btn" data-action="use-diamond">馃拵</button>
                <button class="touch-btn" data-action="interact">馃О</button>
                <button class="touch-btn" data-action="switch">馃攣</button>
                <span class="touch-spacer"></span>
                <button class="touch-btn" data-action="jump">猡达笍</button>
                <button class="touch-btn" data-action="attack">攻击</button>
            </div>
        </div>
    </div>
</div>

<div id="screen-overlay" class="screen-overlay visible" aria-hidden="false">
    <div class="overlay-card">
        <div class="overlay-title" id="overlay-title">准备开始</div>
        <div class="overlay-text" id="overlay-text">
            ← → 移动。 空格 跳(可二段跳)<br>
            J 攻击。 K 切换武器。 Z 使用钻石<br>
            Y 打开宝箱。 E 采集
        </div>
        <button class="overlay-btn" id="btn-overlay-action">开始游戏</button>
    </div>
</div>

<div id="settings-modal" aria-hidden="true">
    <div class="settings-panel" role="dialog" aria-modal="true" aria-label="娓告垙璁剧疆">
        <div class="settings-actions settings-actions-top">
            <button class="game-btn" id="btn-settings-save">淇濆瓨</button>
            <button class="game-btn" id="btn-settings-close">鍏抽棴</button>
        </div>
        <div class="settings-title">娓告垙璁剧疆</div>
        <div class="settings-scroll">
            <div class="settings-row">
                <label class="settings-label"><input type="checkbox" id="opt-learning-mode"> 瀛︿範妯″紡(鏇村皯骞叉壈)</label>
            </div>
            <div class="settings-row">
                <label class="settings-label"><input type="checkbox" id="opt-speech"> 鏈楄鍗曡瘝</label>
            </div>
            <div class="settings-row">
                <label class="settings-label"><input type="checkbox" id="opt-bgm"> 鑳屾櫙闊充箰</label>
            </div>
            <div class="settings-row">
                <div class="settings-label">英文语速</div>
                <input class="settings-range" id="opt-speech-en" type="range" min="0.5" max="1.2" step="0.05">
            </div>
            <div class="settings-row">
                <div class="settings-label">中文语速</div>
                <input class="settings-range" id="opt-speech-zh" type="range" min="0.5" max="1.2" step="0.05">
            </div>
            <div class="settings-row">
                <div class="settings-label">鐣岄潰澶у皬</div>
                <input class="settings-range" id="opt-ui-scale" type="range" min="0.8" max="1.4" step="0.05">
            </div>
            <div class="settings-row">
                <div class="settings-label">鏄剧ず妯″紡</div>
                <select class="settings-select" id="opt-device-mode">
                    <option value="auto">鑷姩</option>
                    <option value="phone">鎵嬫満</option>
                    <option value="tablet">骞虫澘</option>
                </select>
            </div>
            <div class="settings-row">
                <div class="settings-label">灞忓箷鏂瑰悜</div>
                <select class="settings-select" id="opt-orientation-lock">
                    <option value="auto">鑷姩</option>
                    <option value="portrait">绔栧睆</option>
                    <option value="landscape">妯睆</option>
                </select>
            </div>
            <div class="settings-row">
                <div class="settings-label">鍒嗚鲸鐜囨ā寮?(瑙ｅ喅鍏ㄥ睆榛戣竟)</div>
                <select class="settings-select" id="opt-resolution-mode">
                    <option value="auto">鑷姩閫傞厤 (鎺ㄨ崘)</option>
                    <option value="800x600">鏍囧噯 800脳600</option>
                    <option value="1200x600">瀹藉睆 1200脳600</option>
                    <option value="1600x600">瓒呭 1600脳600</option>
                    <option value="2000x600">鏋佸 2000脳600</option>
                </select>
            </div>
            <div class="settings-row">
                <div class="settings-label">动作速度</div>
                <input class="settings-range" id="opt-motion-scale" type="range" min="0.8" max="1.8" step="0.05">
            </div>
            <div class="settings-row">
                <div class="settings-label">游戏难度</div>
                <select class="settings-select" id="opt-game-difficulty">
                    <option value="simple">简单</option>
                    <option value="medium">中等</option>
                    <option value="hard">困难</option>
                </select>
            </div>
            <div class="settings-row">
                <div class="settings-label">环境切换周期(分数)</div>
                <input class="settings-range" id="opt-biome-step" type="range" min="50" max="1000" step="50">
            </div>
            <div class="settings-row">
                <label class="settings-label"><input type="checkbox" id="opt-touch"> 灞忓箷鎸夐敭</label>
            </div>
            <div class="settings-row">
                <label class="settings-label"><input type="checkbox" id="opt-no-repeat"> 鍗曡瘝涓嶉噸澶?杞崲)</label>
            </div>
            <div class="settings-row">
                <div class="settings-label">璇嶅簱</div>
                <select class="settings-select" id="opt-vocab"></select>
            </div>
            <div class="settings-row">
                <div class="settings-label">璇嶅簱闃舵</div>
                <select class="settings-select" id="opt-vocab-stage"></select>
            </div>
            <div class="settings-row">
                <div class="settings-label">璇嶅簱闅惧害</div>
                <select class="settings-select" id="opt-vocab-difficulty">
                    <option value="auto">鑷姩</option>
                    <option value="basic">鍩虹</option>
                    <option value="intermediate">杩涢樁</option>
                    <option value="advanced">楂樼骇</option>
                    <option value="mixed">娣峰悎</option>
                </select>
            </div>
            <div class="settings-row">
                <label class="settings-label"><input type="checkbox" id="opt-show-image"> 鏄剧ず鍥剧墖</label>
            </div>
            <div class="settings-row">
                <label class="settings-label"><input type="checkbox" id="opt-show-labels"> 鐜鏍囨敞</label>
            </div>
            <div class="settings-row settings-row-keys">
                <div class="settings-label">鎸夐敭(閫楀彿鍒嗛殧): 璺宠穬,鏀诲嚮,浜や簰,鍒囨崲,浣跨敤閽荤煶</div>
                <input class="settings-input" id="opt-keys" type="text" value="Space,KeyJ,KeyY,KeyK,KeyZ">
            </div>
            <div class="settings-row settings-row-progress">
                <div class="settings-label">璇嶅簱杞崲</div>
                <div class="settings-progress" id="progress-vocab">未加载</div>
                <button class="game-btn game-btn-danger" id="btn-reset-progress">閲嶇疆杞崲</button>
            </div>
        </div>
    </div>
</div>

<script src="src/defaults.js"></script>
<script src="src/storage.js"></script>
<script src="words/vocabs/html/kindergarten_complete.js"></script>
<script src="words/vocabs/html/elementary_full.js"></script>
<script src="words/vocabs/html/common_general.js"></script>
<script src="words/vocabs/manifest.js"></script>
<script src="src/main.js"></script>
</body>
</html>


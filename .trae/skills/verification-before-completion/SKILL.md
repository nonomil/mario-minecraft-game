---
name: verification-before-completion
description: 在宣布任何任务或项目“完成”之前使用 - 要求提供具体证据证明所有目标已实现且未引入任何回归
---

# 完成前验证

## 概述

在声称任何工作“完成”之前，你必须通过运行测试、验证要求和检查副作用来提供证据证明。

**核心原则：** 证据胜过意图。

**开始时声明：** “我正在运行最终验证以确保任务已完全完成。”

## 验证清单

在宣布完成之前，你**必须**验证以下内容：

### 1. 测试验证

- [ ] 所有新测试通过
- [ ] 所有现有（相关）测试通过（无回归）
- [ ] 测试覆盖了所有关键路径和边缘情况

### 2. 要求验证

- [ ] 计划中的所有步骤都已执行
- [ ] 所有功能性要求都已满足
- [ ] 遵循了所有非功能性要求（性能、安全性、样式）

### 3. 环境验证

- [ ] 代码库处于干净状态（无意外的本地更改）
- [ ] 构建在干净环境中通过
- [ ] 没有任何“TODO”或临时调试代码留下

### 4. 文档验证（如果适用）

- [ ] 相关文档已更新
- [ ] README 或 API 文档反映了更改

## 如何提供证据

在回复用户时，包含一个“验证摘要”：

```markdown
### 验证摘要

- **测试结果：** 运行了 `pytest`。12 个通过，0 个失败。
- **手动验证：** 验证了 `/auth` 端点在输入无效凭据时返回 401。
- **回归检查：** 核心支付流仍然正常工作。
- **代码清理：** 删除了所有 `console.log` 和临时测试文件。
```

## 常见错误

- **“我确定它能工作”：** 如果你没有运行它，你就不确定。
- **跳过回归测试：** 修复一个地方却弄坏了另一个地方。
- **留下调试代码：** `print("here")` 或 `console.log(data)` 被提交到 master。

## 危险信号

**切勿：**
- 在没有运行相关测试的情况下宣布完成。
- 忽略小的测试失败。
- 在没有验证要求清单的情况下声称满足了所有要求。
- 忘记删除调试工具。

## 停止

如果你发现任何失败，你**尚未完成**。修复问题并重新开始验证过程。

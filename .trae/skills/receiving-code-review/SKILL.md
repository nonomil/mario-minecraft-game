---
name: receiving-code-review
description: 当作为审查者收到代码审查请求时，或在评估他人（包括子代理）的工作质量时使用
---

# 接收代码审查

## 概述

此技能定义了如何以专业、客观和严谨的方式进行代码审查。审查者的目标不是挑刺，而是确保代码库的长期健康、安全性和可维护性。

**核心原则：** 质量是共同的责任。

**开始时声明：** “我正在执行代码审查，以验证此项工作的质量和合规性。”

## 审查维度

审查者应从以下四个方面进行评估：

### 1. 规格符合性（Compliance）
- 它是否完全实现了计划中要求的功能？
- 是否有任何遗漏的边缘情况？
- 是否引入了不必要的副作用？

### 2. 代码质量（Quality）
- 逻辑是否清晰？是否可以更简洁？
- 变量和函数命名是否具有描述性？
- 是否遵循了项目的编码风格（CLAUDE.md）？
- 是否有重复代码（DRY 违规）？

### 3. 测试覆盖（Testing）
- 是否有对应的测试？
- 测试是否真的在验证逻辑（非学术性测试）？
- 是否覆盖了失败路径？

### 4. 安全性与性能（Security & Performance）
- 是否有明显的安全漏洞（例如：SQL 注入、敏感信息泄漏）？
- 算法复杂度是否合理？

## 反馈分级

所有发现的问题必须标记严重程度：

- **严重（Critical）：** 必须在合并前修复。包括：Bug、安全漏洞、严重偏离规格。
- **重要（Important）：** 强烈建议修复。包括：低效实现、命名严重误导、测试不足。
- **次要（Minor）：** 改进建议。包括：细微的样式调整、拼写错误。

## 审查模板

```markdown
# 代码审查结果

## 评估结果：[通过 / 需要修改 / 严重警告]

### 优势
- [列出做得好的地方]

### 发现的问题
- **[重要]** 文件 `auth.js:45`: 缺少对空输入的验证。
- **[次要]** 变量名 `temp` 建议改为 `userProfile`。

### 建议操作
1. 修复验证逻辑。
2. 运行测试确保修复有效。
```

## 危险信号

**切勿：**
- 给出模糊的反馈（如“这段代码看起来不太好”）。
- 忽视测试缺失。
- 对样式问题过于吹毛求疵（如果它不影响可读性）。
- 在发现严重问题的情况下通过审查。

# v1.18.18 (P0) - 村庄文案与室内显示优化

## 1. 版本目标

- 修复村庄室内可见文案乱码。
- 调整室内提示字体大小、行距、层级，避免重叠。
- 村民尺寸提升到与主角相近（视觉一致）。

## 2. 计划修改文件

- `apk/src/modules/18-village.js`
- `apk/src/modules/14-renderer-main.js`（如需统一字体渲染参数）
- `apk/src/styles.css`（如需 HUD 文案样式支持）

## 3. Step by Step

1. 文案清理
- 扫描 `showToast`、`fillText`、NPC `greeting`、`showFloatingText`。
- 全部替换为 UTF-8 正常文案。

2. 室内提示布局收敛
- 合并重复提示层（门/床/单词书只保留一套可见提示）。
- 固定 2 行（门）和 3 行（床/书）提示规范。
- 统一字体：标题 28px，说明 13px，正文 18px（可按机型再调）。

3. 村民尺寸调整
- 检查村民绘制函数中的宽高缩放系数。
- 调整到约 `0.9x~1.0x` 主角尺寸，保持碰撞盒不变或同步校正。

4. 移动端验证
- 横屏/竖屏（如支持）验证文本不被裁剪、不溢出。

## 4. 验收标准

- 村庄内不再出现乱码。
- 门、床、单词书提示稳定可读，不重叠。
- 村民体型明显变大，接近主角。

## 5. 风险与回滚

- 风险：只改渲染未改碰撞可能出现“看起来大、判定小”错位。
- 回滚点：保留改动前尺寸参数 commit，可快速恢复。

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>直接执行测试</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #f0f0f0; }
        .result { padding: 5px 10px; margin: 5px 0; }
        .pass { color: #0f0; }
        .fail { color: #f00; font-weight: bold; }
    </style>
</head>
<body>
    <h1>JavaScript 执行测试</h1>
    <div class="result" id="result"></div>
    <script>
        const result = document.getElementById('result');
        function log(html) { result.innerHTML += html + '<br>'; }

        log('开始测试 01-config.js 代码...');

        // 直接执行关键代码片段
        try {
            eval(`
                // 从 defaults.js 读取
                const defaults = window.MMWG_DEFAULTS || {};

                // 从 storage.js 读取
                const storage = window.MMWG_STORAGE;

                // 定义关键变量（模拟 01-config.js 的关键代码）
                const platforms = [];
                const drawBlock = undefined;
                const drawBackground = undefined;
                const initGame = undefined;

                // 检查结果
                if (typeof platforms !== 'undefined') {
                    log('✓ platforms: array, length = ' + platforms.length);
                } else {
                    log('✗ platforms: ' + platforms);
                }
            `);
            } catch(e) {
                log('❌ 错误: ' + e.message);
            }
        </script>
</body>
</html>